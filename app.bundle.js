!function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=29)}([function(e,t,n){"use strict";var r="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;function i(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.assign=function(e){for(var t=Array.prototype.slice.call(arguments,1);t.length;){var n=t.shift();if(n){if("object"!=typeof n)throw new TypeError(n+"must be non-object");for(var r in n)i(n,r)&&(e[r]=n[r])}}return e},t.shrinkBuf=function(e,t){return e.length===t?e:e.subarray?e.subarray(0,t):(e.length=t,e)};var a={arraySet:function(e,t,n,r,i){if(t.subarray&&e.subarray)e.set(t.subarray(n,n+r),i);else for(var a=0;a<r;a++)e[i+a]=t[n+a]},flattenChunks:function(e){var t,n,r,i,a,o;for(r=0,t=0,n=e.length;t<n;t++)r+=e[t].length;for(o=new Uint8Array(r),i=0,t=0,n=e.length;t<n;t++)a=e[t],o.set(a,i),i+=a.length;return o}},o={arraySet:function(e,t,n,r,i){for(var a=0;a<r;a++)e[i+a]=t[n+a]},flattenChunks:function(e){return[].concat.apply([],e)}};t.setTyped=function(e){e?(t.Buf8=Uint8Array,t.Buf16=Uint16Array,t.Buf32=Int32Array,t.assign(t,a)):(t.Buf8=Array,t.Buf16=Array,t.Buf32=Array,t.assign(t,o))},t.setTyped(r)},function(e,t,n){var r,i,a;i=[],void 0===(a="function"==typeof(r=function(){return function e(t,n,r){var i,a,o=window,s="application/octet-stream",l=r||s,d=t,h=!n&&!r&&d,c=document.createElement("a"),f=function(e){return String(e)},u=o.Blob||o.MozBlob||o.WebKitBlob||f,g=n||"download";if(u=u.call?u.bind(o):Blob,"true"===String(this)&&(l=(d=[d,l])[0],d=d[1]),h&&h.length<2048&&(g=h.split("/").pop().split("?")[0],c.href=h,-1!==c.href.indexOf(h))){var p=new XMLHttpRequest;return p.open("GET",h,!0),p.responseType="blob",p.onload=function(t){e(t.target.response,g,s)},setTimeout((function(){p.send()}),0),p}if(/^data:([\w+-]+\/[\w+.-]+)?[,;]/.test(d)){if(!(d.length>2096103.424&&u!==f))return navigator.msSaveBlob?navigator.msSaveBlob(b(d),g):w(d);l=(d=b(d)).type||s}else if(/([\x80-\xff])/.test(d)){for(var m=0,_=new Uint8Array(d.length),v=_.length;m<v;++m)_[m]=d.charCodeAt(m);d=new u([_],{type:l})}function b(e){for(var t=e.split(/[:;,]/),n=t[1],r=("base64"==t[2]?atob:decodeURIComponent)(t.pop()),i=r.length,a=0,o=new Uint8Array(i);a<i;++a)o[a]=r.charCodeAt(a);return new u([o],{type:n})}function w(e,t){if("download"in c)return c.href=e,c.setAttribute("download",g),c.className="download-js-link",c.innerHTML="downloading...",c.style.display="none",document.body.appendChild(c),setTimeout((function(){c.click(),document.body.removeChild(c),!0===t&&setTimeout((function(){o.URL.revokeObjectURL(c.href)}),250)}),66),!0;if(/(Version)\/(\d+)\.(\d+)(?:\.(\d+))?.*Safari\//.test(navigator.userAgent))return/^data:/.test(e)&&(e="data:"+e.replace(/^data:([\w\/\-\+]+)/,s)),window.open(e)||confirm("Displaying New Document\n\nUse Save As... to download, then click back to return to this page.")&&(location.href=e),!0;var n=document.createElement("iframe");document.body.appendChild(n),!t&&/^data:/.test(e)&&(e="data:"+e.replace(/^data:([\w\/\-\+]+)/,s)),n.src=e,setTimeout((function(){document.body.removeChild(n)}),333)}if(i=d instanceof u?d:new u([d],{type:l}),navigator.msSaveBlob)return navigator.msSaveBlob(i,g);if(o.URL)w(o.URL.createObjectURL(i),!0);else{if("string"==typeof i||i.constructor===f)try{return w("data:"+l+";base64,"+o.btoa(i))}catch(e){return w("data:"+l+","+encodeURIComponent(i))}(a=new FileReader).onload=function(e){w(this.result)},a.readAsDataURL(i)}return!0}})?r.apply(t,i):r)||(e.exports=a)},function(e,t,n){"use strict";e.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},function(e,t,n){"use strict";e.exports=function(e,t,n,r){for(var i=65535&e|0,a=e>>>16&65535|0,o=0;0!==n;){n-=o=n>2e3?2e3:n;do{a=a+(i=i+t[r++]|0)|0}while(--o);i%=65521,a%=65521}return i|a<<16|0}},function(e,t,n){"use strict";var r=function(){for(var e,t=[],n=0;n<256;n++){e=n;for(var r=0;r<8;r++)e=1&e?3988292384^e>>>1:e>>>1;t[n]=e}return t}();e.exports=function(e,t,n,i){var a=r,o=i+n;e^=-1;for(var s=i;s<o;s++)e=e>>>8^a[255&(e^t[s])];return-1^e}},function(e,t,n){"use strict";var r=n(0),i=!0,a=!0;try{String.fromCharCode.apply(null,[0])}catch(e){i=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(e){a=!1}for(var o=new r.Buf8(256),s=0;s<256;s++)o[s]=s>=252?6:s>=248?5:s>=240?4:s>=224?3:s>=192?2:1;function l(e,t){if(t<65534&&(e.subarray&&a||!e.subarray&&i))return String.fromCharCode.apply(null,r.shrinkBuf(e,t));for(var n="",o=0;o<t;o++)n+=String.fromCharCode(e[o]);return n}o[254]=o[254]=1,t.string2buf=function(e){var t,n,i,a,o,s=e.length,l=0;for(a=0;a<s;a++)55296==(64512&(n=e.charCodeAt(a)))&&a+1<s&&56320==(64512&(i=e.charCodeAt(a+1)))&&(n=65536+(n-55296<<10)+(i-56320),a++),l+=n<128?1:n<2048?2:n<65536?3:4;for(t=new r.Buf8(l),o=0,a=0;o<l;a++)55296==(64512&(n=e.charCodeAt(a)))&&a+1<s&&56320==(64512&(i=e.charCodeAt(a+1)))&&(n=65536+(n-55296<<10)+(i-56320),a++),n<128?t[o++]=n:n<2048?(t[o++]=192|n>>>6,t[o++]=128|63&n):n<65536?(t[o++]=224|n>>>12,t[o++]=128|n>>>6&63,t[o++]=128|63&n):(t[o++]=240|n>>>18,t[o++]=128|n>>>12&63,t[o++]=128|n>>>6&63,t[o++]=128|63&n);return t},t.buf2binstring=function(e){return l(e,e.length)},t.binstring2buf=function(e){for(var t=new r.Buf8(e.length),n=0,i=t.length;n<i;n++)t[n]=e.charCodeAt(n);return t},t.buf2string=function(e,t){var n,r,i,a,s=t||e.length,d=new Array(2*s);for(r=0,n=0;n<s;)if((i=e[n++])<128)d[r++]=i;else if((a=o[i])>4)d[r++]=65533,n+=a-1;else{for(i&=2===a?31:3===a?15:7;a>1&&n<s;)i=i<<6|63&e[n++],a--;a>1?d[r++]=65533:i<65536?d[r++]=i:(i-=65536,d[r++]=55296|i>>10&1023,d[r++]=56320|1023&i)}return l(d,r)},t.utf8border=function(e,t){var n;for((t=t||e.length)>e.length&&(t=e.length),n=t-1;n>=0&&128==(192&e[n]);)n--;return n<0?t:0===n?t:n+o[e[n]]>t?n:t}},function(e,t,n){"use strict";e.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},function(e,t,n){"use strict";e.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},function(e,t,n){(function(t){var r;r={},e.exports=r,function(e,t){e.toRGBA8=function(t){var n=t.width,r=t.height;if(null==t.tabs.acTL)return[e.toRGBA8.decodeImage(t.data,n,r,t).buffer];var i=[];null==t.frames[0].data&&(t.frames[0].data=t.data);for(var a,o=new Uint8Array(n*r*4),s=0;s<t.frames.length;s++){var l=t.frames[s],d=l.rect.x,h=l.rect.y,c=l.rect.width,f=l.rect.height,u=e.toRGBA8.decodeImage(l.data,c,f,t);if(0==s?a=u:0==l.blend?e._copyTile(u,c,f,a,n,r,d,h,0):1==l.blend&&e._copyTile(u,c,f,a,n,r,d,h,1),i.push(a.buffer),a=a.slice(0),0==l.dispose);else if(1==l.dispose)e._copyTile(o,c,f,a,n,r,d,h,0);else if(2==l.dispose){for(var g=s-1;2==t.frames[g].dispose;)g--;a=new Uint8Array(i[g]).slice(0)}}return i},e.toRGBA8.decodeImage=function(t,n,r,i){var a=n*r,o=e.decode._getBPP(i),s=Math.ceil(n*o/8),l=new Uint8Array(4*a),d=new Uint32Array(l.buffer),h=i.ctype,c=i.depth,f=e._bin.readUshort;if(6==h){var u=a<<2;if(8==c)for(var g=0;g<u;g++)l[g]=t[g];if(16==c)for(g=0;g<u;g++)l[g]=t[g<<1]}else if(2==h){var p=i.tabs.tRNS,m=-1,_=-1,v=-1;if(p&&(m=p[0],_=p[1],v=p[2]),8==c)for(g=0;g<a;g++){var b=3*g;l[E=g<<2]=t[b],l[E+1]=t[b+1],l[E+2]=t[b+2],l[E+3]=255,-1!=m&&t[b]==m&&t[b+1]==_&&t[b+2]==v&&(l[E+3]=0)}if(16==c)for(g=0;g<a;g++)b=6*g,l[E=g<<2]=t[b],l[E+1]=t[b+2],l[E+2]=t[b+4],l[E+3]=255,-1!=m&&f(t,b)==m&&f(t,b+2)==_&&f(t,b+4)==v&&(l[E+3]=0)}else if(3==h){var w=i.tabs.PLTE,y=i.tabs.tRNS,x=y?y.length:0;if(1==c)for(var k=0;k<r;k++){var z=k*s,S=k*n;for(g=0;g<n;g++){var E=S+g<<2,I=3*(A=t[z+(g>>3)]>>7-((7&g)<<0)&1);l[E]=w[I],l[E+1]=w[I+1],l[E+2]=w[I+2],l[E+3]=A<x?y[A]:255}}if(2==c)for(k=0;k<r;k++)for(z=k*s,S=k*n,g=0;g<n;g++)E=S+g<<2,I=3*(A=t[z+(g>>2)]>>6-((3&g)<<1)&3),l[E]=w[I],l[E+1]=w[I+1],l[E+2]=w[I+2],l[E+3]=A<x?y[A]:255;if(4==c)for(k=0;k<r;k++)for(z=k*s,S=k*n,g=0;g<n;g++)E=S+g<<2,I=3*(A=t[z+(g>>1)]>>4-((1&g)<<2)&15),l[E]=w[I],l[E+1]=w[I+1],l[E+2]=w[I+2],l[E+3]=A<x?y[A]:255;if(8==c)for(g=0;g<a;g++){var A;E=g<<2,I=3*(A=t[g]),l[E]=w[I],l[E+1]=w[I+1],l[E+2]=w[I+2],l[E+3]=A<x?y[A]:255}}else if(4==h){if(8==c)for(g=0;g<a;g++){E=g<<2;var C=t[L=g<<1];l[E]=C,l[E+1]=C,l[E+2]=C,l[E+3]=t[L+1]}if(16==c)for(g=0;g<a;g++){var L;E=g<<2,C=t[L=g<<2],l[E]=C,l[E+1]=C,l[E+2]=C,l[E+3]=t[L+2]}}else if(0==h){if(m=i.tabs.tRNS?i.tabs.tRNS:-1,1==c)for(g=0;g<a;g++){var B=(C=255*(t[g>>3]>>7-(7&g)&1))==255*m?0:255;d[g]=B<<24|C<<16|C<<8|C}if(2==c)for(g=0;g<a;g++)B=(C=85*(t[g>>2]>>6-((3&g)<<1)&3))==85*m?0:255,d[g]=B<<24|C<<16|C<<8|C;if(4==c)for(g=0;g<a;g++)B=(C=17*(t[g>>1]>>4-((1&g)<<2)&15))==17*m?0:255,d[g]=B<<24|C<<16|C<<8|C;if(8==c)for(g=0;g<a;g++)B=(C=t[g])==m?0:255,d[g]=B<<24|C<<16|C<<8|C;if(16==c)for(g=0;g<a;g++)C=t[g<<1],B=f(t,g<<1)==m?0:255,d[g]=B<<24|C<<16|C<<8|C}return l},e.decode=function(t){for(var n,r=new Uint8Array(t),i=8,a=e._bin,o=a.readUshort,s=a.readUint,l={tabs:{},frames:[]},d=new Uint8Array(r.length),h=0,c=0,f=[137,80,78,71,13,10,26,10],u=0;u<8;u++)if(r[u]!=f[u])throw"The input is not a PNG file!";for(;i<r.length;){var g=a.readUint(r,i);i+=4;var p=a.readASCII(r,i,4);if(i+=4,"IHDR"==p)e.decode._IHDR(r,i,l);else if("IDAT"==p){for(u=0;u<g;u++)d[h+u]=r[i+u];h+=g}else if("acTL"==p)l.tabs[p]={num_frames:s(r,i),num_plays:s(r,i+4)},n=new Uint8Array(r.length);else if("fcTL"==p){0!=c&&((z=l.frames[l.frames.length-1]).data=e.decode._decompress(l,n.slice(0,c),z.rect.width,z.rect.height),c=0);var m={x:s(r,i+12),y:s(r,i+16),width:s(r,i+4),height:s(r,i+8)},_=o(r,i+22);_=o(r,i+20)/(0==_?100:_);var v={rect:m,delay:Math.round(1e3*_),dispose:r[i+24],blend:r[i+25]};l.frames.push(v)}else if("fdAT"==p){for(u=0;u<g-4;u++)n[c+u]=r[i+u+4];c+=g-4}else if("pHYs"==p)l.tabs[p]=[a.readUint(r,i),a.readUint(r,i+4),r[i+8]];else if("cHRM"==p)for(l.tabs[p]=[],u=0;u<8;u++)l.tabs[p].push(a.readUint(r,i+4*u));else if("tEXt"==p){null==l.tabs[p]&&(l.tabs[p]={});var b=a.nextZero(r,i),w=a.readASCII(r,i,b-i),y=a.readASCII(r,b+1,i+g-b-1);l.tabs[p][w]=y}else if("iTXt"==p){null==l.tabs[p]&&(l.tabs[p]={}),b=0;var x=i;b=a.nextZero(r,x),w=a.readASCII(r,x,b-x),r[x=b+1],r[x+1],x+=2,b=a.nextZero(r,x),a.readASCII(r,x,b-x),x=b+1,b=a.nextZero(r,x),a.readUTF8(r,x,b-x),x=b+1,y=a.readUTF8(r,x,g-(x-i)),l.tabs[p][w]=y}else if("PLTE"==p)l.tabs[p]=a.readBytes(r,i,g);else if("hIST"==p){var k=l.tabs.PLTE.length/3;for(l.tabs[p]=[],u=0;u<k;u++)l.tabs[p].push(o(r,i+2*u))}else if("tRNS"==p)3==l.ctype?l.tabs[p]=a.readBytes(r,i,g):0==l.ctype?l.tabs[p]=o(r,i):2==l.ctype&&(l.tabs[p]=[o(r,i),o(r,i+2),o(r,i+4)]);else if("gAMA"==p)l.tabs[p]=a.readUint(r,i)/1e5;else if("sRGB"==p)l.tabs[p]=r[i];else if("bKGD"==p)0==l.ctype||4==l.ctype?l.tabs[p]=[o(r,i)]:2==l.ctype||6==l.ctype?l.tabs[p]=[o(r,i),o(r,i+2),o(r,i+4)]:3==l.ctype&&(l.tabs[p]=r[i]);else if("IEND"==p){var z;0!=c&&((z=l.frames[l.frames.length-1]).data=e.decode._decompress(l,n.slice(0,c),z.rect.width,z.rect.height),c=0),l.data=e.decode._decompress(l,d,l.width,l.height);break}i+=g,a.readUint(r,i),i+=4}return delete l.compress,delete l.interlace,delete l.filter,l},e.decode._decompress=function(t,n,r,i){return 0==t.compress&&(n=e.decode._inflate(n)),0==t.interlace?n=e.decode._filterZero(n,t,0,r,i):1==t.interlace&&(n=e.decode._readInterlace(n,t)),n},e.decode._inflate=function(e){return t.inflate(e)},e.decode._readInterlace=function(t,n){for(var r=n.width,i=n.height,a=e.decode._getBPP(n),o=a>>3,s=Math.ceil(r*a/8),l=new Uint8Array(i*s),d=0,h=[0,0,4,0,2,0,1],c=[0,4,0,2,0,1,0],f=[8,8,8,4,4,2,2],u=[8,8,4,4,2,2,1],g=0;g<7;){for(var p=f[g],m=u[g],_=0,v=0,b=h[g];b<i;)b+=p,v++;for(var w=c[g];w<r;)w+=m,_++;var y=Math.ceil(_*a/8);e.decode._filterZero(t,n,d,_,v);for(var x=0,k=h[g];k<i;){for(var z=c[g],S=d+x*y<<3;z<r;){var E;if(1==a&&(E=(E=t[S>>3])>>7-(7&S)&1,l[k*s+(z>>3)]|=E<<7-((3&z)<<0)),2==a&&(E=(E=t[S>>3])>>6-(7&S)&3,l[k*s+(z>>2)]|=E<<6-((3&z)<<1)),4==a&&(E=(E=t[S>>3])>>4-(7&S)&15,l[k*s+(z>>1)]|=E<<4-((1&z)<<2)),a>=8)for(var I=k*s+z*o,A=0;A<o;A++)l[I+A]=t[(S>>3)+A];S+=a,z+=m}x++,k+=p}_*v!=0&&(d+=v*(1+y)),g+=1}return l},e.decode._getBPP=function(e){return[1,null,3,1,2,null,4][e.ctype]*e.depth},e.decode._filterZero=function(t,n,r,i,a){var o=e.decode._getBPP(n),s=Math.ceil(i*o/8),l=e.decode._paeth;o=Math.ceil(o/8);for(var d=0;d<a;d++){var h=r+d*s,c=h+d+1,f=t[c-1];if(0==f)for(var u=0;u<s;u++)t[h+u]=t[c+u];else if(1==f){for(u=0;u<o;u++)t[h+u]=t[c+u];for(u=o;u<s;u++)t[h+u]=t[c+u]+t[h+u-o]&255}else if(0==d){for(u=0;u<o;u++)t[h+u]=t[c+u];if(2==f)for(u=o;u<s;u++)t[h+u]=255&t[c+u];if(3==f)for(u=o;u<s;u++)t[h+u]=t[c+u]+(t[h+u-o]>>1)&255;if(4==f)for(u=o;u<s;u++)t[h+u]=t[c+u]+l(t[h+u-o],0,0)&255}else{if(2==f)for(u=0;u<s;u++)t[h+u]=t[c+u]+t[h+u-s]&255;if(3==f){for(u=0;u<o;u++)t[h+u]=t[c+u]+(t[h+u-s]>>1)&255;for(u=o;u<s;u++)t[h+u]=t[c+u]+(t[h+u-s]+t[h+u-o]>>1)&255}if(4==f){for(u=0;u<o;u++)t[h+u]=t[c+u]+l(0,t[h+u-s],0)&255;for(u=o;u<s;u++)t[h+u]=t[c+u]+l(t[h+u-o],t[h+u-s],t[h+u-o-s])&255}}}return t},e.decode._paeth=function(e,t,n){var r=e+t-n,i=Math.abs(r-e),a=Math.abs(r-t),o=Math.abs(r-n);return i<=a&&i<=o?e:a<=o?t:n},e.decode._IHDR=function(t,n,r){var i=e._bin;r.width=i.readUint(t,n),n+=4,r.height=i.readUint(t,n),n+=4,r.depth=t[n],n++,r.ctype=t[n],n++,r.compress=t[n],n++,r.filter=t[n],n++,r.interlace=t[n],n++},e._bin={nextZero:function(e,t){for(;0!=e[t];)t++;return t},readUshort:function(e,t){return e[t]<<8|e[t+1]},writeUshort:function(e,t,n){e[t]=n>>8&255,e[t+1]=255&n},readUint:function(e,t){return 16777216*e[t]+(e[t+1]<<16|e[t+2]<<8|e[t+3])},writeUint:function(e,t,n){e[t]=n>>24&255,e[t+1]=n>>16&255,e[t+2]=n>>8&255,e[t+3]=255&n},readASCII:function(e,t,n){for(var r="",i=0;i<n;i++)r+=String.fromCharCode(e[t+i]);return r},writeASCII:function(e,t,n){for(var r=0;r<n.length;r++)e[t+r]=n.charCodeAt(r)},readBytes:function(e,t,n){for(var r=[],i=0;i<n;i++)r.push(e[t+i]);return r},pad:function(e){return e.length<2?"0"+e:e},readUTF8:function(t,n,r){for(var i,a="",o=0;o<r;o++)a+="%"+e._bin.pad(t[n+o].toString(16));try{i=decodeURIComponent(a)}catch(i){return e._bin.readASCII(t,n,r)}return i}},e._copyTile=function(e,t,n,r,i,a,o,s,l){for(var d=Math.min(t,i),h=Math.min(n,a),c=0,f=0,u=0;u<h;u++)for(var g=0;g<d;g++)if(o>=0&&s>=0?(c=u*t+g<<2,f=(s+u)*i+o+g<<2):(c=(-s+u)*t-o+g<<2,f=u*i+g<<2),0==l)r[f]=e[c],r[f+1]=e[c+1],r[f+2]=e[c+2],r[f+3]=e[c+3];else if(1==l){var p=e[c+3]*(1/255),m=e[c]*p,_=e[c+1]*p,v=e[c+2]*p,b=r[f+3]*(1/255),w=r[f]*b,y=r[f+1]*b,x=r[f+2]*b,k=1-p,z=p+b*k,S=0==z?0:1/z;r[f+3]=255*z,r[f+0]=(m+w*k)*S,r[f+1]=(_+y*k)*S,r[f+2]=(v+x*k)*S}else if(2==l)p=e[c+3],m=e[c],_=e[c+1],v=e[c+2],b=r[f+3],w=r[f],y=r[f+1],x=r[f+2],p==b&&m==w&&_==y&&v==x?(r[f]=0,r[f+1]=0,r[f+2]=0,r[f+3]=0):(r[f]=m,r[f+1]=_,r[f+2]=v,r[f+3]=p);else if(3==l){if(p=e[c+3],m=e[c],_=e[c+1],v=e[c+2],b=r[f+3],w=r[f],y=r[f+1],x=r[f+2],p==b&&m==w&&_==y&&v==x)continue;if(p<220&&b>20)return!1}return!0},e.encode=function(t,n,r,i,a,o){null==i&&(i=0),null==o&&(o=!1);for(var s=new Uint8Array(t[0].byteLength*t.length+100),l=[137,80,78,71,13,10,26,10],d=0;d<8;d++)s[d]=l[d];var h=8,c=e._bin,f=e.crc.crc,u=c.writeUint,g=c.writeUshort,p=c.writeASCII,m=e.encode.compressPNG(t,n,r,i,o);u(s,h,13),p(s,h+=4,"IHDR"),u(s,h+=4,n),u(s,h+=4,r),s[h+=4]=m.depth,s[++h]=m.ctype,s[++h]=0,s[++h]=0,s[++h]=0,u(s,++h,f(s,h-17,17)),u(s,h+=4,1),p(s,h+=4,"sRGB"),s[h+=4]=1,u(s,++h,f(s,h-5,5)),h+=4;var _=t.length>1;if(_&&(u(s,h,8),p(s,h+=4,"acTL"),u(s,h+=4,t.length),u(s,h+=4,0),u(s,h+=4,f(s,h-12,12)),h+=4),3==m.ctype){for(u(s,h,3*(E=m.plte.length)),p(s,h+=4,"PLTE"),h+=4,d=0;d<E;d++){var v=3*d,b=m.plte[d],w=255&b,y=b>>8&255,x=b>>16&255;s[h+v+0]=w,s[h+v+1]=y,s[h+v+2]=x}if(u(s,h+=3*E,f(s,h-3*E-4,3*E+4)),h+=4,m.gotAlpha){for(u(s,h,E),p(s,h+=4,"tRNS"),h+=4,d=0;d<E;d++)s[h+d]=m.plte[d]>>24&255;u(s,h+=E,f(s,h-E-4,E+4)),h+=4}}for(var k=0,z=0;z<m.frames.length;z++){var S=m.frames[z];_&&(u(s,h,26),p(s,h+=4,"fcTL"),u(s,h+=4,k++),u(s,h+=4,S.rect.width),u(s,h+=4,S.rect.height),u(s,h+=4,S.rect.x),u(s,h+=4,S.rect.y),g(s,h+=4,a[z]),g(s,h+=2,1e3),s[h+=2]=S.dispose,s[++h]=S.blend,u(s,++h,f(s,h-30,30)),h+=4);var E,I=S.cimg;u(s,h,(E=I.length)+(0==z?0:4));var A=h+=4;for(p(s,h,0==z?"IDAT":"fdAT"),h+=4,0!=z&&(u(s,h,k++),h+=4),d=0;d<E;d++)s[h+d]=I[d];u(s,h+=E,f(s,A,h-A)),h+=4}return u(s,h,0),p(s,h+=4,"IEND"),u(s,h+=4,f(s,h-4,4)),h+=4,s.buffer.slice(0,h)},e.encode.compressPNG=function(t,n,r,i,a){for(var o=e.encode.compress(t,n,r,i,!1,a),s=0;s<t.length;s++){var l=o.frames[s],d=(l.rect.width,l.rect.height),h=l.bpl,c=l.bpp,f=new Uint8Array(d*h+d);l.cimg=e.encode._filterZero(l.img,d,c,h,f)}return o},e.encode.compress=function(t,n,r,i,a,o){null==o&&(o=!1);for(var s=6,l=8,d=4,h=255,c=0;c<t.length;c++)for(var f=new Uint8Array(t[c]),u=f.length,g=0;g<u;g+=4)h&=f[g+3];var p=255!=h,m={},_=[];if(0!=t.length&&(m[0]=0,_.push(0),0!=i&&i--),0!=i){var v=e.quantize(t,i,a);for(t=v.bufs,g=0;g<v.plte.length;g++)null==m[w=v.plte[g].est.rgba]&&(m[w]=_.length,_.push(w))}else for(c=0;c<t.length;c++){var b=new Uint32Array(t[c]);for(u=b.length,g=0;g<u;g++){var w=b[g];if((g<n||w!=b[g-1]&&w!=b[g-n])&&null==m[w]&&(m[w]=_.length,_.push(w),_.length>=300))break}}var y=!!p&&a,x=_.length;x<=256&&0==o&&(l=x<=2?1:x<=4?2:x<=16?4:8,a&&(l=8),p=!0);var k=[];for(c=0;c<t.length;c++){var z=new Uint8Array(t[c]),S=new Uint32Array(z.buffer),E=0,I=0,A=n,C=r,L=0;if(0!=c&&!y){for(var B=a||1==c||2==k[k.length-2].dispose?1:2,T=0,R=1e9,U=0;U<B;U++){for(var D=new Uint8Array(t[c-1-U]),M=new Uint32Array(t[c-1-U]),N=n,O=r,F=-1,Z=-1,P=0;P<r;P++)for(var q=0;q<n;q++)S[g=P*n+q]!=M[g]&&(q<N&&(N=q),q>F&&(F=q),P<O&&(O=P),P>Z&&(Z=P));var j=-1==F?1:(F-N+1)*(Z-O+1);j<R&&(R=j,T=U,-1==F?(E=I=0,A=C=1):(E=N,I=O,A=F-N+1,C=Z-O+1))}D=new Uint8Array(t[c-1-T]),1==T&&(k[k.length-1].dispose=2);var H=new Uint8Array(A*C*4);new Uint32Array(H.buffer),e._copyTile(D,n,r,H,A,C,-E,-I,0),e._copyTile(z,n,r,H,A,C,-E,-I,3)?(e._copyTile(z,n,r,H,A,C,-E,-I,2),L=1):(e._copyTile(z,n,r,H,A,C,-E,-I,0),L=0),z=H,S=new Uint32Array(z.buffer)}var W=4*A;if(x<=256&&0==o){for(W=Math.ceil(l*A/8),H=new Uint8Array(W*C),P=0;P<C;P++){g=P*W;var G=P*A;if(8==l)for(q=0;q<A;q++)H[g+q]=m[S[G+q]];else if(4==l)for(q=0;q<A;q++)H[g+(q>>1)]|=m[S[G+q]]<<4-4*(1&q);else if(2==l)for(q=0;q<A;q++)H[g+(q>>2)]|=m[S[G+q]]<<6-2*(3&q);else if(1==l)for(q=0;q<A;q++)H[g+(q>>3)]|=m[S[G+q]]<<7-1*(7&q)}z=H,s=3,d=1}else if(0==p&&1==t.length){H=new Uint8Array(A*C*3);var K=A*C;for(g=0;g<K;g++){var Y=3*g,X=4*g;H[Y]=z[X],H[Y+1]=z[X+1],H[Y+2]=z[X+2]}z=H,s=2,d=3,W=3*A}k.push({rect:{x:E,y:I,width:A,height:C},img:z,bpl:W,bpp:d,blend:L,dispose:y?1:0})}return{ctype:s,depth:l,plte:_,gotAlpha:p,frames:k}},e.encode._filterZero=function(n,r,i,a,o){for(var s=[],l=0;l<5;l++)if(!(r*a>5e5)||2!=l&&3!=l&&4!=l){for(var d=0;d<r;d++)e.encode._filterLine(o,n,d,a,i,l);if(s.push(t.deflate(o)),1==i)break}for(var h,c=1e9,f=0;f<s.length;f++)s[f].length<c&&(h=f,c=s[f].length);return s[h]},e.encode._filterLine=function(t,n,r,i,a,o){var s=r*i,l=s+r,d=e.decode._paeth;if(t[l]=o,l++,0==o)for(var h=0;h<i;h++)t[l+h]=n[s+h];else if(1==o){for(h=0;h<a;h++)t[l+h]=n[s+h];for(h=a;h<i;h++)t[l+h]=n[s+h]-n[s+h-a]+256&255}else if(0==r){for(h=0;h<a;h++)t[l+h]=n[s+h];if(2==o)for(h=a;h<i;h++)t[l+h]=n[s+h];if(3==o)for(h=a;h<i;h++)t[l+h]=n[s+h]-(n[s+h-a]>>1)+256&255;if(4==o)for(h=a;h<i;h++)t[l+h]=n[s+h]-d(n[s+h-a],0,0)+256&255}else{if(2==o)for(h=0;h<i;h++)t[l+h]=n[s+h]+256-n[s+h-i]&255;if(3==o){for(h=0;h<a;h++)t[l+h]=n[s+h]+256-(n[s+h-i]>>1)&255;for(h=a;h<i;h++)t[l+h]=n[s+h]+256-(n[s+h-i]+n[s+h-a]>>1)&255}if(4==o){for(h=0;h<a;h++)t[l+h]=n[s+h]+256-d(0,n[s+h-i],0)&255;for(h=a;h<i;h++)t[l+h]=n[s+h]+256-d(n[s+h-a],n[s+h-i],n[s+h-a-i])&255}}},e.crc={table:function(){for(var e=new Uint32Array(256),t=0;t<256;t++){for(var n=t,r=0;r<8;r++)1&n?n=3988292384^n>>>1:n>>>=1;e[t]=n}return e}(),update:function(t,n,r,i){for(var a=0;a<i;a++)t=e.crc.table[255&(t^n[r+a])]^t>>>8;return t},crc:function(t,n,r){return 4294967295^e.crc.update(4294967295,t,n,r)}},e.quantize=function(t,n,r){for(var i=[],a=0,o=0;o<t.length;o++)i.push(e.encode.alphaMul(new Uint8Array(t[o]),r)),a+=t[o].byteLength;var s=new Uint8Array(a),l=new Uint32Array(s.buffer),d=0;for(o=0;o<i.length;o++){for(var h=i[o],c=h.length,f=0;f<c;f++)s[d+f]=h[f];d+=c}var u={i0:0,i1:s.length,bst:null,est:null,tdst:0,left:null,right:null};u.bst=e.quantize.stats(s,u.i0,u.i1),u.est=e.quantize.estats(u.bst);for(var g=[u];g.length<n;){var p=0,m=0;for(o=0;o<g.length;o++)g[o].est.L>p&&(p=g[o].est.L,m=o);if(p<.001)break;var _=g[m],v=e.quantize.splitPixels(s,l,_.i0,_.i1,_.est.e,_.est.eMq255),b={i0:_.i0,i1:v,bst:null,est:null,tdst:0,left:null,right:null};b.bst=e.quantize.stats(s,b.i0,b.i1),b.est=e.quantize.estats(b.bst);var w={i0:v,i1:_.i1,bst:null,est:null,tdst:0,left:null,right:null};for(w.bst={R:[],m:[],N:_.bst.N-b.bst.N},o=0;o<16;o++)w.bst.R[o]=_.bst.R[o]-b.bst.R[o];for(o=0;o<4;o++)w.bst.m[o]=_.bst.m[o]-b.bst.m[o];w.est=e.quantize.estats(w.bst),_.left=b,_.right=w,g[m]=b,g.push(w)}g.sort((function(e,t){return t.bst.N-e.bst.N}));for(var y=0;y<i.length;y++){var x=e.quantize.planeDst,k=new Uint8Array(i[y].buffer),z=new Uint32Array(i[y].buffer),S=k.length;for(o=0;o<S;o+=4){for(var E=k[o]*(1/255),I=k[o+1]*(1/255),A=k[o+2]*(1/255),C=k[o+3]*(1/255),L=u;L.left;)L=x(L.est,E,I,A,C)<=0?L.left:L.right;z[o>>2]=L.est.rgba}i[y]=z.buffer}return{bufs:i,plte:g}},e.quantize.getNearest=function(t,n,r,i,a){if(null==t.left)return t.tdst=e.quantize.dist(t.est.q,n,r,i,a),t;var o=e.quantize.planeDst(t.est,n,r,i,a),s=t.left,l=t.right;o>0&&(s=t.right,l=t.left);var d=e.quantize.getNearest(s,n,r,i,a);if(d.tdst<=o*o)return d;var h=e.quantize.getNearest(l,n,r,i,a);return h.tdst<d.tdst?h:d},e.quantize.planeDst=function(e,t,n,r,i){var a=e.e;return a[0]*t+a[1]*n+a[2]*r+a[3]*i-e.eMq},e.quantize.dist=function(e,t,n,r,i){var a=t-e[0],o=n-e[1],s=r-e[2],l=i-e[3];return a*a+o*o+s*s+l*l},e.quantize.splitPixels=function(t,n,r,i,a,o){var s=e.quantize.vecDot;for(i-=4;r<i;){for(;s(t,r,a)<=o;)r+=4;for(;s(t,i,a)>o;)i-=4;if(r>=i)break;var l=n[r>>2];n[r>>2]=n[i>>2],n[i>>2]=l,r+=4,i-=4}for(;s(t,r,a)>o;)r-=4;return r+4},e.quantize.vecDot=function(e,t,n){return e[t]*n[0]+e[t+1]*n[1]+e[t+2]*n[2]+e[t+3]*n[3]},e.quantize.stats=function(e,t,n){for(var r=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],i=[0,0,0,0],a=n-t>>2,o=t;o<n;o+=4){var s=e[o]*(1/255),l=e[o+1]*(1/255),d=e[o+2]*(1/255),h=e[o+3]*(1/255);i[0]+=s,i[1]+=l,i[2]+=d,i[3]+=h,r[0]+=s*s,r[1]+=s*l,r[2]+=s*d,r[3]+=s*h,r[5]+=l*l,r[6]+=l*d,r[7]+=l*h,r[10]+=d*d,r[11]+=d*h,r[15]+=h*h}return r[4]=r[1],r[8]=r[2],r[12]=r[3],r[9]=r[6],r[13]=r[7],r[14]=r[11],{R:r,m:i,N:a}},e.quantize.estats=function(t){var n=t.R,r=t.m,i=t.N,a=r[0],o=r[1],s=r[2],l=r[3],d=0==i?0:1/i,h=[n[0]-a*a*d,n[1]-a*o*d,n[2]-a*s*d,n[3]-a*l*d,n[4]-o*a*d,n[5]-o*o*d,n[6]-o*s*d,n[7]-o*l*d,n[8]-s*a*d,n[9]-s*o*d,n[10]-s*s*d,n[11]-s*l*d,n[12]-l*a*d,n[13]-l*o*d,n[14]-l*s*d,n[15]-l*l*d],c=h,f=e.M4,u=[.5,.5,.5,.5],g=0,p=0;if(0!=i)for(var m=0;m<10&&(u=f.multVec(c,u),p=Math.sqrt(f.dot(u,u)),u=f.sml(1/p,u),!(Math.abs(p-g)<1e-9));m++)g=p;var _=[a*d,o*d,s*d,l*d],v=f.dot(f.sml(255,_),u),b=_[3]<.001?0:1/_[3];return{Cov:h,q:_,e:u,L:g,eMq255:v,eMq:f.dot(u,_),rgba:(Math.round(255*_[3])<<24|Math.round(255*_[2]*b)<<16|Math.round(255*_[1]*b)<<8|Math.round(255*_[0]*b)<<0)>>>0}},e.M4={multVec:function(e,t){return[e[0]*t[0]+e[1]*t[1]+e[2]*t[2]+e[3]*t[3],e[4]*t[0]+e[5]*t[1]+e[6]*t[2]+e[7]*t[3],e[8]*t[0]+e[9]*t[1]+e[10]*t[2]+e[11]*t[3],e[12]*t[0]+e[13]*t[1]+e[14]*t[2]+e[15]*t[3]]},dot:function(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]+e[3]*t[3]},sml:function(e,t){return[e*t[0],e*t[1],e*t[2],e*t[3]]}},e.encode.alphaMul=function(e,t){for(var n=new Uint8Array(e.length),r=e.length>>2,i=0;i<r;i++){var a=i<<2,o=e[a+3];t&&(o=o<128?0:255);var s=o*(1/255);n[a+0]=e[a+0]*s,n[a+1]=e[a+1]*s,n[a+2]=e[a+2]*s,n[a+3]=o}return n}}(r,n(20))}).call(this,n(19))},function(e,t,n){e.exports=function(e){function t(r){if(n[r])return n[r].exports;var i=n[r]={exports:{},id:r,loaded:!1};return e[r].call(i.exports,i,i.exports,t),i.loaded=!0,i.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){var r,i,a={}.hasOwnProperty,o=[].indexOf||function(e){for(var t=0,n=this.length;t<n;t++)if(t in this&&this[t]===e)return t;return-1};r=n(1).EventEmitter,n(2),i=function(e){function t(e){var t,r,i;for(r in this.running=!1,this.options={},this.frames=[],this.groups=new Map,this.freeWorkers=[],this.activeWorkers=[],this.setOptions(e),n)i=n[r],null==(t=this.options)[r]&&(t[r]=i)}var n,r;return function(e,t){function n(){this.constructor=e}for(var r in t)a.call(t,r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype}(t,e),n={workerScript:"gif.worker.js",workers:2,repeat:0,background:"#fff",quality:10,width:null,height:null,transparent:null,debug:!1},r={delay:500,copy:!1},t.prototype.setOption=function(e,t){if(this.options[e]=t,null!=this._canvas&&("width"===e||"height"===e))return this._canvas[e]=t},t.prototype.setOptions=function(e){var t,n,r;for(t in n=[],e)a.call(e,t)&&(r=e[t],n.push(this.setOption(t,r)));return n},t.prototype.addFrame=function(e,t){var n,i,a;for(a in null==t&&(t={}),(n={}).transparent=this.options.transparent,r)n[a]=t[a]||r[a];if(null==this.options.width&&this.setOption("width",e.width),null==this.options.height&&this.setOption("height",e.height),"undefined"!=typeof ImageData&&null!==ImageData&&e instanceof ImageData)n.data=e.data;else if("undefined"!=typeof CanvasRenderingContext2D&&null!==CanvasRenderingContext2D&&e instanceof CanvasRenderingContext2D||"undefined"!=typeof WebGLRenderingContext&&null!==WebGLRenderingContext&&e instanceof WebGLRenderingContext)t.copy?n.data=this.getContextData(e):n.context=e;else{if(null==e.childNodes)throw new Error("Invalid image");t.copy?n.data=this.getImageData(e):n.image=e}return(i=this.frames.length)>0&&n.data&&(this.groups.has(n.data)?this.groups.get(n.data).push(i):this.groups.set(n.data,[i])),this.frames.push(n)},t.prototype.render=function(){var e,t,n;if(this.running)throw new Error("Already running");if(null==this.options.width||null==this.options.height)throw new Error("Width and height must be set prior to rendering");if(this.running=!0,this.nextFrame=0,this.finishedFrames=0,this.imageParts=function(){var e,t,n;for(n=[],e=0,t=this.frames.length;0<=t?e<t:e>t;0<=t?++e:--e)n.push(null);return n}.call(this),t=this.spawnWorkers(),!0===this.options.globalPalette)this.renderNextFrame();else for(e=0,n=t;0<=n?e<n:e>n;0<=n?++e:--e)this.renderNextFrame();return this.emit("start"),this.emit("progress",0)},t.prototype.abort=function(){for(var e;null!=(e=this.activeWorkers.shift());)this.log("killing active worker"),e.terminate();return this.running=!1,this.emit("abort")},t.prototype.spawnWorkers=function(){var e,t,n;return e=Math.min(this.options.workers,this.frames.length),function(){n=[];for(var r=t=this.freeWorkers.length;t<=e?r<e:r>e;t<=e?r++:r--)n.push(r);return n}.apply(this).forEach(function(e){return function(t){var n;return e.log("spawning worker "+t),(n=new Worker(e.options.workerScript)).onmessage=function(t){return e.activeWorkers.splice(e.activeWorkers.indexOf(n),1),e.freeWorkers.push(n),e.frameFinished(t.data,!1)},e.freeWorkers.push(n)}}(this)),e},t.prototype.frameFinished=function(e,t){var n,r,i,a;if(this.finishedFrames++,t?(n=this.frames.indexOf(e),r=this.groups.get(e.data)[0],this.log("frame "+(n+1)+" is duplicate of "+r+" - "+this.activeWorkers.length+" active"),this.imageParts[n]={indexOfFirstInGroup:r}):(this.log("frame "+(e.index+1)+" finished - "+this.activeWorkers.length+" active"),this.emit("progress",this.finishedFrames/this.frames.length),this.imageParts[e.index]=e),!0===this.options.globalPalette&&!t&&(this.options.globalPalette=e.globalPalette,this.log("global palette analyzed"),this.frames.length>2))for(i=1,a=this.freeWorkers.length;1<=a?i<a:i>a;1<=a?++i:--i)this.renderNextFrame();return o.call(this.imageParts,null)>=0?this.renderNextFrame():this.finishRendering()},t.prototype.finishRendering=function(){var e,t,n,r,i,a,o,s,l,d,h,c,f,u,g,p,m,_,v,b;for(i=a=0,d=(m=this.imageParts).length;a<d;i=++a)(t=m[i]).indexOfFirstInGroup&&(this.imageParts[i]=this.imageParts[t.indexOfFirstInGroup]);for(l=0,o=0,h=(_=this.imageParts).length;o<h;o++)l+=((t=_[o]).data.length-1)*t.pageSize+t.cursor;for(l+=t.pageSize-t.cursor,this.log("rendering finished - filesize "+Math.round(l/1e3)+"kb"),e=new Uint8Array(l),g=0,s=0,c=(v=this.imageParts).length;s<c;s++)for(n=u=0,f=(b=(t=v[s]).data).length;u<f;n=++u)p=b[n],e.set(p,g),g+=n===t.data.length-1?t.cursor:t.pageSize;return r=new Blob([e],{type:"image/gif"}),this.emit("finished",r,e)},t.prototype.renderNextFrame=function(){var e,t,n,r;if(0===this.freeWorkers.length)throw new Error("No free workers");if(!(this.nextFrame>=this.frames.length))return e=this.frames[this.nextFrame++],(t=this.frames.indexOf(e))>0&&this.groups.has(e.data)&&this.groups.get(e.data)[0]!==t?void setTimeout(function(t){return function(){return t.frameFinished(e,!0)}}(this),0):(r=this.freeWorkers.shift(),n=this.getTask(e),this.log("starting frame "+(n.index+1)+" of "+this.frames.length),this.activeWorkers.push(r),r.postMessage(n))},t.prototype.getContextData=function(e){return e.getImageData(0,0,this.options.width,this.options.height).data},t.prototype.getImageData=function(e){var t;return null==this._canvas&&(this._canvas=document.createElement("canvas"),this._canvas.width=this.options.width,this._canvas.height=this.options.height),(t=this._canvas.getContext("2d")).setFill=this.options.background,t.fillRect(0,0,this.options.width,this.options.height),t.drawImage(e,0,0),this.getContextData(t)},t.prototype.getTask=function(e){var t,n;if(n={index:t=this.frames.indexOf(e),last:t===this.frames.length-1,delay:e.delay,transparent:e.transparent,width:this.options.width,height:this.options.height,quality:this.options.quality,dither:this.options.dither,globalPalette:this.options.globalPalette,repeat:this.options.repeat,canTransfer:!0},null!=e.data)n.data=e.data;else if(null!=e.context)n.data=this.getContextData(e.context);else{if(null==e.image)throw new Error("Invalid frame");n.data=this.getImageData(e.image)}return n},t.prototype.log=function(e){if(this.options.debug)return console.log(e)},t}(r),e.exports=i},function(e,t){function n(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function r(e){return"function"==typeof e}function i(e){return"object"==typeof e&&null!==e}function a(e){return void 0===e}e.exports=n,n.EventEmitter=n,n.prototype._events=void 0,n.prototype._maxListeners=void 0,n.defaultMaxListeners=10,n.prototype.setMaxListeners=function(e){if(!function(e){return"number"==typeof e}(e)||e<0||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},n.prototype.emit=function(e){var t,n,o,s,l,d;if(this._events||(this._events={}),"error"===e&&(!this._events.error||i(this._events.error)&&!this._events.error.length)){if((t=arguments[1])instanceof Error)throw t;var h=new Error('Uncaught, unspecified "error" event. ('+t+")");throw h.context=t,h}if(a(n=this._events[e]))return!1;if(r(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:s=Array.prototype.slice.call(arguments,1),n.apply(this,s)}else if(i(n))for(s=Array.prototype.slice.call(arguments,1),o=(d=n.slice()).length,l=0;l<o;l++)d[l].apply(this,s);return!0},n.prototype.addListener=function(e,t){var o;if(!r(t))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,r(t.listener)?t.listener:t),this._events[e]?i(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,i(this._events[e])&&!this._events[e].warned&&(o=a(this._maxListeners)?n.defaultMaxListeners:this._maxListeners)&&o>0&&this._events[e].length>o&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),"function"==typeof console.trace&&console.trace()),this},n.prototype.on=n.prototype.addListener,n.prototype.once=function(e,t){function n(){this.removeListener(e,n),i||(i=!0,t.apply(this,arguments))}if(!r(t))throw TypeError("listener must be a function");var i=!1;return n.listener=t,this.on(e,n),this},n.prototype.removeListener=function(e,t){var n,a,o,s;if(!r(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(o=(n=this._events[e]).length,a=-1,n===t||r(n.listener)&&n.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(i(n)){for(s=o;s-- >0;)if(n[s]===t||n[s].listener&&n[s].listener===t){a=s;break}if(a<0)return this;1===n.length?(n.length=0,delete this._events[e]):n.splice(a,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},n.prototype.removeAllListeners=function(e){var t,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(r(n=this._events[e]))this.removeListener(e,n);else if(n)for(;n.length;)this.removeListener(e,n[n.length-1]);return delete this._events[e],this},n.prototype.listeners=function(e){return this._events&&this._events[e]?r(this._events[e])?[this._events[e]]:this._events[e].slice():[]},n.prototype.listenerCount=function(e){if(this._events){var t=this._events[e];if(r(t))return 1;if(t)return t.length}return 0},n.listenerCount=function(e,t){return e.listenerCount(t)}},function(e,t){var n,r,i,a,o;o=navigator.userAgent.toLowerCase(),a=navigator.platform.toLowerCase(),i="ie"===(n=o.match(/(opera|ie|firefox|chrome|version)[\s\/:]([\w\d\.]+)?.*?(safari|version[\s\/:]([\w\d\.]+)|$)/)||[null,"unknown",0])[1]&&document.documentMode,(r={name:"version"===n[1]?n[3]:n[1],version:i||parseFloat("opera"===n[1]&&n[4]?n[4]:n[2]),platform:{name:o.match(/ip(?:ad|od|hone)/)?"ios":(o.match(/(?:webos|android)/)||a.match(/mac|win|linux/)||["other"])[0]}})[r.name]=!0,r[r.name+parseInt(r.version,10)]=!0,r.platform[r.platform.name]=!0,e.exports=r}])},function(e,t,n){var r=n(11),i=n(12);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);var a={insert:"head",singleton:!1},o=(r(e.i,i,a),i.locals?i.locals:{});e.exports=o},function(e,t,n){"use strict";var r,i=function(){return void 0===r&&(r=Boolean(window&&document&&document.all&&!window.atob)),r},a=function(){var e={};return function(t){if(void 0===e[t]){var n=document.querySelector(t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}e[t]=n}return e[t]}}(),o={};function s(e,t,n){for(var r=0;r<t.length;r++){var i={css:t[r][1],media:t[r][2],sourceMap:t[r][3]};o[e][r]?o[e][r](i):o[e].push(p(i,n))}}function l(e){var t=document.createElement("style"),r=e.attributes||{};if(void 0===r.nonce){var i=n.nc;i&&(r.nonce=i)}if(Object.keys(r).forEach((function(e){t.setAttribute(e,r[e])})),"function"==typeof e.insert)e.insert(t);else{var o=a(e.insert||"head");if(!o)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");o.appendChild(t)}return t}var d,h=(d=[],function(e,t){return d[e]=t,d.filter(Boolean).join("\n")});function c(e,t,n,r){var i=n?"":r.css;if(e.styleSheet)e.styleSheet.cssText=h(t,i);else{var a=document.createTextNode(i),o=e.childNodes;o[t]&&e.removeChild(o[t]),o.length?e.insertBefore(a,o[t]):e.appendChild(a)}}function f(e,t,n){var r=n.css,i=n.media,a=n.sourceMap;if(i?e.setAttribute("media",i):e.removeAttribute("media"),a&&btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(a))))," */")),e.styleSheet)e.styleSheet.cssText=r;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(r))}}var u=null,g=0;function p(e,t){var n,r,i;if(t.singleton){var a=g++;n=u||(u=l(t)),r=c.bind(null,n,a,!1),i=c.bind(null,n,a,!0)}else n=l(t),r=f.bind(null,n,t),i=function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(n)};return r(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;r(e=t)}else i()}}e.exports=function(e,t,n){return(n=n||{}).singleton||"boolean"==typeof n.singleton||(n.singleton=i()),e=n.base?e+n.base:e,t=t||[],o[e]||(o[e]=[]),s(e,t,n),function(t){if(t=t||[],"[object Array]"===Object.prototype.toString.call(t)){o[e]||(o[e]=[]),s(e,t,n);for(var r=t.length;r<o[e].length;r++)o[e][r]();o[e].length=t.length,0===o[e].length&&delete o[e]}}}},function(e,t,n){var r=n(13),i=n(14),a=n(15),o=n(16),s=n(17),l=n(18);t=r(!1);var d=i(a),h=i(o),c=i(s),f=i(l);t.push([e.i,"html,body{height:100%;width:100%;margin:0;overflow:hidden;font-family:Arial}body{background:#1d1d1d}ul,li,p{margin:0;padding:0;list-style-type:none}.nav{display:flex;line-height:2em}.nav .logo{margin-left:2em;height:2em}.nav .logo--img{margin-top:0.2em;width:7em;background-image:url("+d+");background-size:cover;height:100%;vertical-align:middle}.nav .nav_name{margin:0 auto;font-size:1.2em;color:#cf2020;text-shadow:0 -1px 0 #000;padding-left:8em}.nav .nav_buttons{display:flex}.nav .nav_buttons--button{margin:0.3em 1em 0 0;height:1.9em;line-height:2em;padding:0px 1em;border-style:none;border-radius:0.4em;cursor:pointer;font-size:0.8em;font-weight:bold;text-align:center;text-decoration:none;color:black;background-color:gold}.main_wrapper{display:flex;width:100%;height:100%;margin-top:0.5em}.tools_container{display:flex;align-items:center;flex:0 0 6.3em;height:100%}.tools_vertical_center{width:100%}.pen_size{overflow:hidden;padding:0.2em 0.2em}.pen_size--size1{padding:0.32em}.pen_size--size2{padding:0.24em}.pen_size--size3{padding:0.16em}.pen_size--size4{padding:0.08em}.pen_size--item{float:left;box-sizing:border-box;width:1.26em;height:1.26em;margin-right:0.15em;border-style:solid;border-width:0.15em;border-color:#444;cursor:pointer}.pen_size--item:before{content:'';width:100%;height:100%;background-color:white;display:block;text-align:center;line-height:12px;font-size:90%}.pen_size--item:hover{border-color:#888}.pen_size .selected{border-color:gold}.pen_size .selected:before{background-color:gold}.tools{display:flex;flex-wrap:wrap}.tools--item{position:relative;background-color:#444;width:3em;height:3em;margin:0.07em;background-image:url("+h+')}.tools--item .tip_text{visibility:hidden;background-color:#444;color:#fff;border-radius:6px;padding:5px 7px;position:absolute;z-index:100;bottom:72%;left:104%;margin-left:0;opacity:0;-webkit-transition:opacity 0.3s;transition:opacity 0.3s}.tools--item .tip_text span{color:gold}.tools--item .tip_text::after{content:"";position:absolute;z-index:10;top:51%;left:-13%;margin-left:0px;border-width:5px;border-style:solid;border-color:transparent #444 transparent transparent}.tools--item:hover{background-color:#555}.tools--item:hover .tip_text{visibility:visible;opacity:1}.tools--pen{background-position:-182px -92px}.tools--stroke{background-position:-46px -136px}.tools--bucket{background-position:-226px -92px}.tools--bucketAllPixels{background-position:-226px -139px}.tools--picker{background-position:-274px 0px}.tools--eraser{background-position:-46px -228px}.tools .selected:before{content:"";position:absolute;height:100%;width:100%;border:3px solid gold;box-sizing:border-box}.palette{position:relative;margin-top:10px;margin-left:10px;width:80px;height:80px}.palette--input{display:none}.palette--item{position:absolute;display:block;width:40px;height:40px;box-sizing:border-box;border:#444 0.2em solid}.palette--item .tip_text{visibility:hidden;background-color:#888;color:#fff;border-radius:6px;padding:5px 7px;position:absolute;z-index:100;bottom:72%;left:104%;margin-left:0px;font-size:0.8em;opacity:0;-webkit-transition:opacity 0.3s;transition:opacity 0.3s}.palette--item .tip_text::after{content:"";position:absolute;z-index:10;top:51%;left:-13%;margin-left:0px;border-width:5px;border-style:solid;border-color:transparent #444 transparent transparent}.palette--item:hover{border:#888 0.2em solid}.palette--item:hover .tip_text{visibility:visible;opacity:1}.palette--first_color{z-index:5}.palette--second_color{top:24px;left:24px;z-index:2}.palette--background_first{z-index:4;background-image:url('+c+")}.palette--background_second{z-index:1;top:24px;left:24px;background-image:url("+c+')}.canvas_size--item{position:relative;background-color:#444;width:5em;height:2em;margin:0.3em auto;text-align:center;line-height:2em;color:#fff}.canvas_size--item:hover{background-color:#555}.canvas_size .selected:before{content:"";position:absolute;height:100%;width:100%;border:3px solid gold;box-sizing:border-box;left:0}.frame_list_container{flex:0 0 7.9em;height:100%;overflow-y:scroll;overflow-x:hidden}.frame_list_container::-webkit-scrollbar{width:0.4em}.frame_list_container::-webkit-scrollbar-track{-webkit-box-shadow:inset 0 0 0.6em rgba(29,29,29,0.3);border-radius:10px}.frame_list_container::-webkit-scrollbar-thumb{border-radius:10px;-webkit-box-shadow:inset 0 0 0.6em rgba(29,29,29,0.5)}.frame{padding-left:0.5em;display:flex;flex-direction:column}.frame--btn{display:none;z-index:10;position:absolute;background-color:rgba(136,136,136,0.4);height:1.5em;width:1.5em;border:none;cursor:pointer;background-image:url('+h+")}.frame .btn_delete{top:0;right:0;border-bottom-left-radius:0.4em;background-position:-277px -108px}.frame .btn_copy{bottom:0;right:0;border-top-left-radius:0.4em;background-position:-277px -80px}.frame .btn_move{bottom:0;left:0;border-top-right-radius:0.4em;background-position:-277px -50px}.frame--btn_number{z-index:10;position:absolute;background-color:gold;height:1.5em;width:1.5em;border:none;cursor:pointer;text-align:center;line-height:1.5em;border-bottom-right-radius:0.4em}.frame .toggle{background-color:rgba(136,136,136,0.4)}.frame--item{position:relative;border:#444 0.2em solid;border-radius:0.35em;margin:0.3em 0;width:6em;height:6em}.frame--item:hover{border:#888 0.2em solid}.frame--item:hover .frame--btn{display:block}.frame--item_canvas{z-index:1;position:absolute;width:6em;height:6em;image-rendering:pixelated;image-rendering:-moz-crisp-edges;background-image:url("+c+')}.frame .selected{border-color:gold}.frame .selected::after{content:"";position:absolute;top:38px;right:-9px;border:transparent 4px solid;border-left-color:gold;border-width:6px 0 6px 6px;border-style:solid}.frame .over{border-style:dashed;border-color:#ffd700}.frame--btn_add_frame{display:flex;align-items:center;margin:8px auto;overflow:hidden;width:7em;height:50px;border:#555 solid 3px;border-radius:4px;color:#888;font-size:13px;cursor:pointer}.frame--btn_add_frame p{padding-left:0.2em}.frame--btn_add_frame_img{width:2em;height:2em;background:url('+h+");background-position:-278px -159px;margin-left:0.2em}.frame--btn_add_frame:hover{border:gold solid 3px}.canvas_wrapper{position:relative;align-items:center;width:100%;height:100%;background-color:#888;min-width:512px;vertical-align:middle}.canvas_wrapper .canvas_background,.canvas_wrapper #canvas,.canvas_wrapper #canvas2{padding:0;margin:auto;display:block;width:512px;height:512px;position:absolute;top:0;bottom:0;left:0;right:0;-ms-interpolation-mode:nearest-neighbor;image-rendering:pixelated;image-rendering:-moz-crisp-edges;background-image:url("+c+")}.canvas_wrapper .canvas_background{background-color:burlywood}.animate{display:flex;align-items:center;flex-direction:column;flex:0 0 14em;height:100%}.animate--canvas{position:relative;width:12.5em;height:12.5em;background-repeat:no-repeat;background-size:100%;image-rendering:pixelated;image-rendering:-moz-crisp-edges;background-image:url("+c+");background-size:2em;background-repeat:repeat}.animate--preview_background{position:relative;width:12.5em;height:12.5em;background-image:url("+c+")}.animate--preview_background .full_screen_button{z-index:100;display:inline-block;width:2em;height:2em;position:absolute;top:0.5em;right:0.2em;cursor:pointer;background-image:url("+f+");background-repeat:no-repeat}.animate--preview_background:fullscreen .animate--canvas{height:100%;width:100%}.animate--fps{width:12.5em;background-color:#555}.animate--fps_text{display:inline-block;text-align:center;padding:0 0.6em;min-width:3.6em;color:#fff;font-size:0.8em}.animate--fps_range{vertical-align:middle}.export_panel{margin-top:2em;background-color:#444;width:12.5em}.export_panel--text{color:#fff;text-align:center;line-height:2em}.export_panel--button-container{display:flex}.export_panel--button-container .download_button{margin:0 auto;box-sizing:border-box;height:2em;width:7em;border-style:none;cursor:pointer;text-decoration:none;font-weight:bold;font-size:0.8em;border-radius:0.4em;text-align:center;transition:background-color 0.2s linear;background-color:gold;color:#1d1d1d}.export_panel--button-container .download_button:hover{background-color:#fff}\n",""]),e.exports=t},function(e,t,n){"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n=function(e,t){var n=e[1]||"",r=e[3];if(!r)return n;if(t&&"function"==typeof btoa){var i=(o=r,s=btoa(unescape(encodeURIComponent(JSON.stringify(o)))),l="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(s),"/*# ".concat(l," */")),a=r.sources.map((function(e){return"/*# sourceURL=".concat(r.sourceRoot).concat(e," */")}));return[n].concat(a).concat([i]).join("\n")}var o,s,l;return[n].join("\n")}(t,e);return t[2]?"@media ".concat(t[2]," {").concat(n,"}"):n})).join("")},t.i=function(e,n){"string"==typeof e&&(e=[[null,e,""]]);for(var r=0;r<e.length;r++){var i=[].concat(e[r]);n&&(i[2]?i[2]="".concat(n," and ").concat(i[2]):i[2]=n),t.push(i)}},t}},function(e,t,n){"use strict";e.exports=function(e,t){return t||(t={}),"string"!=typeof(e=e&&e.__esModule?e.default:e)?e:(/^['"].*['"]$/.test(e)&&(e=e.slice(1,-1)),t.hash&&(e+=t.hash),/["'() \t\n]/.test(e)||t.needQuotes?'"'.concat(e.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):e)}},function(e,t,n){"use strict";n.r(t),t.default=n.p+"images/logo.png"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"images/icons.png"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"images/background.png"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"images/full-screen.png"},function(e,t){var n,r,i=e.exports={};function a(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function s(e){if(n===setTimeout)return setTimeout(e,0);if((n===a||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:a}catch(e){n=a}try{r="function"==typeof clearTimeout?clearTimeout:o}catch(e){r=o}}();var l,d=[],h=!1,c=-1;function f(){h&&l&&(h=!1,l.length?d=l.concat(d):c=-1,d.length&&u())}function u(){if(!h){var e=s(f);h=!0;for(var t=d.length;t;){for(l=d,d=[];++c<t;)l&&l[c].run();c=-1,t=d.length}l=null,h=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===o||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function g(e,t){this.fun=e,this.array=t}function p(){}i.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];d.push(new g(e,t)),1!==d.length||h||s(u)},g.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=p,i.addListener=p,i.once=p,i.off=p,i.removeListener=p,i.removeAllListeners=p,i.emit=p,i.prependListener=p,i.prependOnceListener=p,i.listeners=function(e){return[]},i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(e,t,n){"use strict";var r={};(0,n(0).assign)(r,n(21),n(24),n(7)),e.exports=r},function(e,t,n){"use strict";var r=n(22),i=n(0),a=n(5),o=n(2),s=n(6),l=Object.prototype.toString;function d(e){if(!(this instanceof d))return new d(e);this.options=i.assign({level:-1,method:8,chunkSize:16384,windowBits:15,memLevel:8,strategy:0,to:""},e||{});var t=this.options;t.raw&&t.windowBits>0?t.windowBits=-t.windowBits:t.gzip&&t.windowBits>0&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new s,this.strm.avail_out=0;var n=r.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(0!==n)throw new Error(o[n]);if(t.header&&r.deflateSetHeader(this.strm,t.header),t.dictionary){var h;if(h="string"==typeof t.dictionary?a.string2buf(t.dictionary):"[object ArrayBuffer]"===l.call(t.dictionary)?new Uint8Array(t.dictionary):t.dictionary,0!==(n=r.deflateSetDictionary(this.strm,h)))throw new Error(o[n]);this._dict_set=!0}}function h(e,t){var n=new d(t);if(n.push(e,!0),n.err)throw n.msg||o[n.err];return n.result}d.prototype.push=function(e,t){var n,o,s=this.strm,d=this.options.chunkSize;if(this.ended)return!1;o=t===~~t?t:!0===t?4:0,"string"==typeof e?s.input=a.string2buf(e):"[object ArrayBuffer]"===l.call(e)?s.input=new Uint8Array(e):s.input=e,s.next_in=0,s.avail_in=s.input.length;do{if(0===s.avail_out&&(s.output=new i.Buf8(d),s.next_out=0,s.avail_out=d),1!==(n=r.deflate(s,o))&&0!==n)return this.onEnd(n),this.ended=!0,!1;0!==s.avail_out&&(0!==s.avail_in||4!==o&&2!==o)||("string"===this.options.to?this.onData(a.buf2binstring(i.shrinkBuf(s.output,s.next_out))):this.onData(i.shrinkBuf(s.output,s.next_out)))}while((s.avail_in>0||0===s.avail_out)&&1!==n);return 4===o?(n=r.deflateEnd(this.strm),this.onEnd(n),this.ended=!0,0===n):2!==o||(this.onEnd(0),s.avail_out=0,!0)},d.prototype.onData=function(e){this.chunks.push(e)},d.prototype.onEnd=function(e){0===e&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=i.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},t.Deflate=d,t.deflate=h,t.deflateRaw=function(e,t){return(t=t||{}).raw=!0,h(e,t)},t.gzip=function(e,t){return(t=t||{}).gzip=!0,h(e,t)}},function(e,t,n){"use strict";var r,i=n(0),a=n(23),o=n(3),s=n(4),l=n(2);function d(e,t){return e.msg=l[t],t}function h(e){return(e<<1)-(e>4?9:0)}function c(e){for(var t=e.length;--t>=0;)e[t]=0}function f(e){var t=e.state,n=t.pending;n>e.avail_out&&(n=e.avail_out),0!==n&&(i.arraySet(e.output,t.pending_buf,t.pending_out,n,e.next_out),e.next_out+=n,t.pending_out+=n,e.total_out+=n,e.avail_out-=n,t.pending-=n,0===t.pending&&(t.pending_out=0))}function u(e,t){a._tr_flush_block(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,f(e.strm)}function g(e,t){e.pending_buf[e.pending++]=t}function p(e,t){e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=255&t}function m(e,t){var n,r,i=e.max_chain_length,a=e.strstart,o=e.prev_length,s=e.nice_match,l=e.strstart>e.w_size-262?e.strstart-(e.w_size-262):0,d=e.window,h=e.w_mask,c=e.prev,f=e.strstart+258,u=d[a+o-1],g=d[a+o];e.prev_length>=e.good_match&&(i>>=2),s>e.lookahead&&(s=e.lookahead);do{if(d[(n=t)+o]===g&&d[n+o-1]===u&&d[n]===d[a]&&d[++n]===d[a+1]){a+=2,n++;do{}while(d[++a]===d[++n]&&d[++a]===d[++n]&&d[++a]===d[++n]&&d[++a]===d[++n]&&d[++a]===d[++n]&&d[++a]===d[++n]&&d[++a]===d[++n]&&d[++a]===d[++n]&&a<f);if(r=258-(f-a),a=f-258,r>o){if(e.match_start=t,o=r,r>=s)break;u=d[a+o-1],g=d[a+o]}}}while((t=c[t&h])>l&&0!=--i);return o<=e.lookahead?o:e.lookahead}function _(e){var t,n,r,a,l,d,h,c,f,u,g=e.w_size;do{if(a=e.window_size-e.lookahead-e.strstart,e.strstart>=g+(g-262)){i.arraySet(e.window,e.window,g,g,0),e.match_start-=g,e.strstart-=g,e.block_start-=g,t=n=e.hash_size;do{r=e.head[--t],e.head[t]=r>=g?r-g:0}while(--n);t=n=g;do{r=e.prev[--t],e.prev[t]=r>=g?r-g:0}while(--n);a+=g}if(0===e.strm.avail_in)break;if(d=e.strm,h=e.window,c=e.strstart+e.lookahead,f=a,u=void 0,(u=d.avail_in)>f&&(u=f),n=0===u?0:(d.avail_in-=u,i.arraySet(h,d.input,d.next_in,u,c),1===d.state.wrap?d.adler=o(d.adler,h,u,c):2===d.state.wrap&&(d.adler=s(d.adler,h,u,c)),d.next_in+=u,d.total_in+=u,u),e.lookahead+=n,e.lookahead+e.insert>=3)for(l=e.strstart-e.insert,e.ins_h=e.window[l],e.ins_h=(e.ins_h<<e.hash_shift^e.window[l+1])&e.hash_mask;e.insert&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[l+3-1])&e.hash_mask,e.prev[l&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=l,l++,e.insert--,!(e.lookahead+e.insert<3)););}while(e.lookahead<262&&0!==e.strm.avail_in)}function v(e,t){for(var n,r;;){if(e.lookahead<262){if(_(e),e.lookahead<262&&0===t)return 1;if(0===e.lookahead)break}if(n=0,e.lookahead>=3&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!==n&&e.strstart-n<=e.w_size-262&&(e.match_length=m(e,n)),e.match_length>=3)if(r=a._tr_tally(e,e.strstart-e.match_start,e.match_length-3),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=3){e.match_length--;do{e.strstart++,e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart}while(0!=--e.match_length);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+1])&e.hash_mask;else r=a._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(r&&(u(e,!1),0===e.strm.avail_out))return 1}return e.insert=e.strstart<2?e.strstart:2,4===t?(u(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(u(e,!1),0===e.strm.avail_out)?1:2}function b(e,t){for(var n,r,i;;){if(e.lookahead<262){if(_(e),e.lookahead<262&&0===t)return 1;if(0===e.lookahead)break}if(n=0,e.lookahead>=3&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=2,0!==n&&e.prev_length<e.max_lazy_match&&e.strstart-n<=e.w_size-262&&(e.match_length=m(e,n),e.match_length<=5&&(1===e.strategy||3===e.match_length&&e.strstart-e.match_start>4096)&&(e.match_length=2)),e.prev_length>=3&&e.match_length<=e.prev_length){i=e.strstart+e.lookahead-3,r=a._tr_tally(e,e.strstart-1-e.prev_match,e.prev_length-3),e.lookahead-=e.prev_length-1,e.prev_length-=2;do{++e.strstart<=i&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart)}while(0!=--e.prev_length);if(e.match_available=0,e.match_length=2,e.strstart++,r&&(u(e,!1),0===e.strm.avail_out))return 1}else if(e.match_available){if((r=a._tr_tally(e,0,e.window[e.strstart-1]))&&u(e,!1),e.strstart++,e.lookahead--,0===e.strm.avail_out)return 1}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(r=a._tr_tally(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<2?e.strstart:2,4===t?(u(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(u(e,!1),0===e.strm.avail_out)?1:2}function w(e,t,n,r,i){this.good_length=e,this.max_lazy=t,this.nice_length=n,this.max_chain=r,this.func=i}function y(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=8,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new i.Buf16(1146),this.dyn_dtree=new i.Buf16(122),this.bl_tree=new i.Buf16(78),c(this.dyn_ltree),c(this.dyn_dtree),c(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new i.Buf16(16),this.heap=new i.Buf16(573),c(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new i.Buf16(573),c(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function x(e){var t;return e&&e.state?(e.total_in=e.total_out=0,e.data_type=2,(t=e.state).pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap?42:113,e.adler=2===t.wrap?0:1,t.last_flush=0,a._tr_init(t),0):d(e,-2)}function k(e){var t,n=x(e);return 0===n&&((t=e.state).window_size=2*t.w_size,c(t.head),t.max_lazy_match=r[t.level].max_lazy,t.good_match=r[t.level].good_length,t.nice_match=r[t.level].nice_length,t.max_chain_length=r[t.level].max_chain,t.strstart=0,t.block_start=0,t.lookahead=0,t.insert=0,t.match_length=t.prev_length=2,t.match_available=0,t.ins_h=0),n}function z(e,t,n,r,a,o){if(!e)return-2;var s=1;if(-1===t&&(t=6),r<0?(s=0,r=-r):r>15&&(s=2,r-=16),a<1||a>9||8!==n||r<8||r>15||t<0||t>9||o<0||o>4)return d(e,-2);8===r&&(r=9);var l=new y;return e.state=l,l.strm=e,l.wrap=s,l.gzhead=null,l.w_bits=r,l.w_size=1<<l.w_bits,l.w_mask=l.w_size-1,l.hash_bits=a+7,l.hash_size=1<<l.hash_bits,l.hash_mask=l.hash_size-1,l.hash_shift=~~((l.hash_bits+3-1)/3),l.window=new i.Buf8(2*l.w_size),l.head=new i.Buf16(l.hash_size),l.prev=new i.Buf16(l.w_size),l.lit_bufsize=1<<a+6,l.pending_buf_size=4*l.lit_bufsize,l.pending_buf=new i.Buf8(l.pending_buf_size),l.d_buf=1*l.lit_bufsize,l.l_buf=3*l.lit_bufsize,l.level=t,l.strategy=o,l.method=n,k(e)}r=[new w(0,0,0,0,(function(e,t){var n=65535;for(n>e.pending_buf_size-5&&(n=e.pending_buf_size-5);;){if(e.lookahead<=1){if(_(e),0===e.lookahead&&0===t)return 1;if(0===e.lookahead)break}e.strstart+=e.lookahead,e.lookahead=0;var r=e.block_start+n;if((0===e.strstart||e.strstart>=r)&&(e.lookahead=e.strstart-r,e.strstart=r,u(e,!1),0===e.strm.avail_out))return 1;if(e.strstart-e.block_start>=e.w_size-262&&(u(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,4===t?(u(e,!0),0===e.strm.avail_out?3:4):(e.strstart>e.block_start&&(u(e,!1),e.strm.avail_out),1)})),new w(4,4,8,4,v),new w(4,5,16,8,v),new w(4,6,32,32,v),new w(4,4,16,16,b),new w(8,16,32,32,b),new w(8,16,128,128,b),new w(8,32,128,256,b),new w(32,128,258,1024,b),new w(32,258,258,4096,b)],t.deflateInit=function(e,t){return z(e,t,8,15,8,0)},t.deflateInit2=z,t.deflateReset=k,t.deflateResetKeep=x,t.deflateSetHeader=function(e,t){return e&&e.state?2!==e.state.wrap?-2:(e.state.gzhead=t,0):-2},t.deflate=function(e,t){var n,i,o,l;if(!e||!e.state||t>5||t<0)return e?d(e,-2):-2;if(i=e.state,!e.output||!e.input&&0!==e.avail_in||666===i.status&&4!==t)return d(e,0===e.avail_out?-5:-2);if(i.strm=e,n=i.last_flush,i.last_flush=t,42===i.status)if(2===i.wrap)e.adler=0,g(i,31),g(i,139),g(i,8),i.gzhead?(g(i,(i.gzhead.text?1:0)+(i.gzhead.hcrc?2:0)+(i.gzhead.extra?4:0)+(i.gzhead.name?8:0)+(i.gzhead.comment?16:0)),g(i,255&i.gzhead.time),g(i,i.gzhead.time>>8&255),g(i,i.gzhead.time>>16&255),g(i,i.gzhead.time>>24&255),g(i,9===i.level?2:i.strategy>=2||i.level<2?4:0),g(i,255&i.gzhead.os),i.gzhead.extra&&i.gzhead.extra.length&&(g(i,255&i.gzhead.extra.length),g(i,i.gzhead.extra.length>>8&255)),i.gzhead.hcrc&&(e.adler=s(e.adler,i.pending_buf,i.pending,0)),i.gzindex=0,i.status=69):(g(i,0),g(i,0),g(i,0),g(i,0),g(i,0),g(i,9===i.level?2:i.strategy>=2||i.level<2?4:0),g(i,3),i.status=113);else{var m=8+(i.w_bits-8<<4)<<8;m|=(i.strategy>=2||i.level<2?0:i.level<6?1:6===i.level?2:3)<<6,0!==i.strstart&&(m|=32),m+=31-m%31,i.status=113,p(i,m),0!==i.strstart&&(p(i,e.adler>>>16),p(i,65535&e.adler)),e.adler=1}if(69===i.status)if(i.gzhead.extra){for(o=i.pending;i.gzindex<(65535&i.gzhead.extra.length)&&(i.pending!==i.pending_buf_size||(i.gzhead.hcrc&&i.pending>o&&(e.adler=s(e.adler,i.pending_buf,i.pending-o,o)),f(e),o=i.pending,i.pending!==i.pending_buf_size));)g(i,255&i.gzhead.extra[i.gzindex]),i.gzindex++;i.gzhead.hcrc&&i.pending>o&&(e.adler=s(e.adler,i.pending_buf,i.pending-o,o)),i.gzindex===i.gzhead.extra.length&&(i.gzindex=0,i.status=73)}else i.status=73;if(73===i.status)if(i.gzhead.name){o=i.pending;do{if(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>o&&(e.adler=s(e.adler,i.pending_buf,i.pending-o,o)),f(e),o=i.pending,i.pending===i.pending_buf_size)){l=1;break}l=i.gzindex<i.gzhead.name.length?255&i.gzhead.name.charCodeAt(i.gzindex++):0,g(i,l)}while(0!==l);i.gzhead.hcrc&&i.pending>o&&(e.adler=s(e.adler,i.pending_buf,i.pending-o,o)),0===l&&(i.gzindex=0,i.status=91)}else i.status=91;if(91===i.status)if(i.gzhead.comment){o=i.pending;do{if(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>o&&(e.adler=s(e.adler,i.pending_buf,i.pending-o,o)),f(e),o=i.pending,i.pending===i.pending_buf_size)){l=1;break}l=i.gzindex<i.gzhead.comment.length?255&i.gzhead.comment.charCodeAt(i.gzindex++):0,g(i,l)}while(0!==l);i.gzhead.hcrc&&i.pending>o&&(e.adler=s(e.adler,i.pending_buf,i.pending-o,o)),0===l&&(i.status=103)}else i.status=103;if(103===i.status&&(i.gzhead.hcrc?(i.pending+2>i.pending_buf_size&&f(e),i.pending+2<=i.pending_buf_size&&(g(i,255&e.adler),g(i,e.adler>>8&255),e.adler=0,i.status=113)):i.status=113),0!==i.pending){if(f(e),0===e.avail_out)return i.last_flush=-1,0}else if(0===e.avail_in&&h(t)<=h(n)&&4!==t)return d(e,-5);if(666===i.status&&0!==e.avail_in)return d(e,-5);if(0!==e.avail_in||0!==i.lookahead||0!==t&&666!==i.status){var v=2===i.strategy?function(e,t){for(var n;;){if(0===e.lookahead&&(_(e),0===e.lookahead)){if(0===t)return 1;break}if(e.match_length=0,n=a._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,n&&(u(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,4===t?(u(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(u(e,!1),0===e.strm.avail_out)?1:2}(i,t):3===i.strategy?function(e,t){for(var n,r,i,o,s=e.window;;){if(e.lookahead<=258){if(_(e),e.lookahead<=258&&0===t)return 1;if(0===e.lookahead)break}if(e.match_length=0,e.lookahead>=3&&e.strstart>0&&(r=s[i=e.strstart-1])===s[++i]&&r===s[++i]&&r===s[++i]){o=e.strstart+258;do{}while(r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&i<o);e.match_length=258-(o-i),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=3?(n=a._tr_tally(e,1,e.match_length-3),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(n=a._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),n&&(u(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,4===t?(u(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(u(e,!1),0===e.strm.avail_out)?1:2}(i,t):r[i.level].func(i,t);if(3!==v&&4!==v||(i.status=666),1===v||3===v)return 0===e.avail_out&&(i.last_flush=-1),0;if(2===v&&(1===t?a._tr_align(i):5!==t&&(a._tr_stored_block(i,0,0,!1),3===t&&(c(i.head),0===i.lookahead&&(i.strstart=0,i.block_start=0,i.insert=0))),f(e),0===e.avail_out))return i.last_flush=-1,0}return 4!==t?0:i.wrap<=0?1:(2===i.wrap?(g(i,255&e.adler),g(i,e.adler>>8&255),g(i,e.adler>>16&255),g(i,e.adler>>24&255),g(i,255&e.total_in),g(i,e.total_in>>8&255),g(i,e.total_in>>16&255),g(i,e.total_in>>24&255)):(p(i,e.adler>>>16),p(i,65535&e.adler)),f(e),i.wrap>0&&(i.wrap=-i.wrap),0!==i.pending?0:1)},t.deflateEnd=function(e){var t;return e&&e.state?42!==(t=e.state.status)&&69!==t&&73!==t&&91!==t&&103!==t&&113!==t&&666!==t?d(e,-2):(e.state=null,113===t?d(e,-3):0):-2},t.deflateSetDictionary=function(e,t){var n,r,a,s,l,d,h,f,u=t.length;if(!e||!e.state)return-2;if(2===(s=(n=e.state).wrap)||1===s&&42!==n.status||n.lookahead)return-2;for(1===s&&(e.adler=o(e.adler,t,u,0)),n.wrap=0,u>=n.w_size&&(0===s&&(c(n.head),n.strstart=0,n.block_start=0,n.insert=0),f=new i.Buf8(n.w_size),i.arraySet(f,t,u-n.w_size,n.w_size,0),t=f,u=n.w_size),l=e.avail_in,d=e.next_in,h=e.input,e.avail_in=u,e.next_in=0,e.input=t,_(n);n.lookahead>=3;){r=n.strstart,a=n.lookahead-2;do{n.ins_h=(n.ins_h<<n.hash_shift^n.window[r+3-1])&n.hash_mask,n.prev[r&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=r,r++}while(--a);n.strstart=r,n.lookahead=2,_(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=2,n.match_available=0,e.next_in=d,e.input=h,e.avail_in=l,n.wrap=s,0},t.deflateInfo="pako deflate (from Nodeca project)"},function(e,t,n){"use strict";var r=n(0);function i(e){for(var t=e.length;--t>=0;)e[t]=0}var a=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],o=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],s=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],l=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],d=new Array(576);i(d);var h=new Array(60);i(h);var c=new Array(512);i(c);var f=new Array(256);i(f);var u=new Array(29);i(u);var g,p,m,_=new Array(30);function v(e,t,n,r,i){this.static_tree=e,this.extra_bits=t,this.extra_base=n,this.elems=r,this.max_length=i,this.has_stree=e&&e.length}function b(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}function w(e){return e<256?c[e]:c[256+(e>>>7)]}function y(e,t){e.pending_buf[e.pending++]=255&t,e.pending_buf[e.pending++]=t>>>8&255}function x(e,t,n){e.bi_valid>16-n?(e.bi_buf|=t<<e.bi_valid&65535,y(e,e.bi_buf),e.bi_buf=t>>16-e.bi_valid,e.bi_valid+=n-16):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=n)}function k(e,t,n){x(e,n[2*t],n[2*t+1])}function z(e,t){var n=0;do{n|=1&e,e>>>=1,n<<=1}while(--t>0);return n>>>1}function S(e,t,n){var r,i,a=new Array(16),o=0;for(r=1;r<=15;r++)a[r]=o=o+n[r-1]<<1;for(i=0;i<=t;i++){var s=e[2*i+1];0!==s&&(e[2*i]=z(a[s]++,s))}}function E(e){var t;for(t=0;t<286;t++)e.dyn_ltree[2*t]=0;for(t=0;t<30;t++)e.dyn_dtree[2*t]=0;for(t=0;t<19;t++)e.bl_tree[2*t]=0;e.dyn_ltree[512]=1,e.opt_len=e.static_len=0,e.last_lit=e.matches=0}function I(e){e.bi_valid>8?y(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0}function A(e,t,n,r){var i=2*t,a=2*n;return e[i]<e[a]||e[i]===e[a]&&r[t]<=r[n]}function C(e,t,n){for(var r=e.heap[n],i=n<<1;i<=e.heap_len&&(i<e.heap_len&&A(t,e.heap[i+1],e.heap[i],e.depth)&&i++,!A(t,r,e.heap[i],e.depth));)e.heap[n]=e.heap[i],n=i,i<<=1;e.heap[n]=r}function L(e,t,n){var r,i,s,l,d=0;if(0!==e.last_lit)do{r=e.pending_buf[e.d_buf+2*d]<<8|e.pending_buf[e.d_buf+2*d+1],i=e.pending_buf[e.l_buf+d],d++,0===r?k(e,i,t):(k(e,(s=f[i])+256+1,t),0!==(l=a[s])&&x(e,i-=u[s],l),k(e,s=w(--r),n),0!==(l=o[s])&&x(e,r-=_[s],l))}while(d<e.last_lit);k(e,256,t)}function B(e,t){var n,r,i,a=t.dyn_tree,o=t.stat_desc.static_tree,s=t.stat_desc.has_stree,l=t.stat_desc.elems,d=-1;for(e.heap_len=0,e.heap_max=573,n=0;n<l;n++)0!==a[2*n]?(e.heap[++e.heap_len]=d=n,e.depth[n]=0):a[2*n+1]=0;for(;e.heap_len<2;)a[2*(i=e.heap[++e.heap_len]=d<2?++d:0)]=1,e.depth[i]=0,e.opt_len--,s&&(e.static_len-=o[2*i+1]);for(t.max_code=d,n=e.heap_len>>1;n>=1;n--)C(e,a,n);i=l;do{n=e.heap[1],e.heap[1]=e.heap[e.heap_len--],C(e,a,1),r=e.heap[1],e.heap[--e.heap_max]=n,e.heap[--e.heap_max]=r,a[2*i]=a[2*n]+a[2*r],e.depth[i]=(e.depth[n]>=e.depth[r]?e.depth[n]:e.depth[r])+1,a[2*n+1]=a[2*r+1]=i,e.heap[1]=i++,C(e,a,1)}while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],function(e,t){var n,r,i,a,o,s,l=t.dyn_tree,d=t.max_code,h=t.stat_desc.static_tree,c=t.stat_desc.has_stree,f=t.stat_desc.extra_bits,u=t.stat_desc.extra_base,g=t.stat_desc.max_length,p=0;for(a=0;a<=15;a++)e.bl_count[a]=0;for(l[2*e.heap[e.heap_max]+1]=0,n=e.heap_max+1;n<573;n++)(a=l[2*l[2*(r=e.heap[n])+1]+1]+1)>g&&(a=g,p++),l[2*r+1]=a,r>d||(e.bl_count[a]++,o=0,r>=u&&(o=f[r-u]),s=l[2*r],e.opt_len+=s*(a+o),c&&(e.static_len+=s*(h[2*r+1]+o)));if(0!==p){do{for(a=g-1;0===e.bl_count[a];)a--;e.bl_count[a]--,e.bl_count[a+1]+=2,e.bl_count[g]--,p-=2}while(p>0);for(a=g;0!==a;a--)for(r=e.bl_count[a];0!==r;)(i=e.heap[--n])>d||(l[2*i+1]!==a&&(e.opt_len+=(a-l[2*i+1])*l[2*i],l[2*i+1]=a),r--)}}(e,t),S(a,d,e.bl_count)}function T(e,t,n){var r,i,a=-1,o=t[1],s=0,l=7,d=4;for(0===o&&(l=138,d=3),t[2*(n+1)+1]=65535,r=0;r<=n;r++)i=o,o=t[2*(r+1)+1],++s<l&&i===o||(s<d?e.bl_tree[2*i]+=s:0!==i?(i!==a&&e.bl_tree[2*i]++,e.bl_tree[32]++):s<=10?e.bl_tree[34]++:e.bl_tree[36]++,s=0,a=i,0===o?(l=138,d=3):i===o?(l=6,d=3):(l=7,d=4))}function R(e,t,n){var r,i,a=-1,o=t[1],s=0,l=7,d=4;for(0===o&&(l=138,d=3),r=0;r<=n;r++)if(i=o,o=t[2*(r+1)+1],!(++s<l&&i===o)){if(s<d)do{k(e,i,e.bl_tree)}while(0!=--s);else 0!==i?(i!==a&&(k(e,i,e.bl_tree),s--),k(e,16,e.bl_tree),x(e,s-3,2)):s<=10?(k(e,17,e.bl_tree),x(e,s-3,3)):(k(e,18,e.bl_tree),x(e,s-11,7));s=0,a=i,0===o?(l=138,d=3):i===o?(l=6,d=3):(l=7,d=4)}}i(_);var U=!1;function D(e,t,n,i){x(e,0+(i?1:0),3),function(e,t,n,i){I(e),i&&(y(e,n),y(e,~n)),r.arraySet(e.pending_buf,e.window,t,n,e.pending),e.pending+=n}(e,t,n,!0)}t._tr_init=function(e){U||(!function(){var e,t,n,r,i,l=new Array(16);for(n=0,r=0;r<28;r++)for(u[r]=n,e=0;e<1<<a[r];e++)f[n++]=r;for(f[n-1]=r,i=0,r=0;r<16;r++)for(_[r]=i,e=0;e<1<<o[r];e++)c[i++]=r;for(i>>=7;r<30;r++)for(_[r]=i<<7,e=0;e<1<<o[r]-7;e++)c[256+i++]=r;for(t=0;t<=15;t++)l[t]=0;for(e=0;e<=143;)d[2*e+1]=8,e++,l[8]++;for(;e<=255;)d[2*e+1]=9,e++,l[9]++;for(;e<=279;)d[2*e+1]=7,e++,l[7]++;for(;e<=287;)d[2*e+1]=8,e++,l[8]++;for(S(d,287,l),e=0;e<30;e++)h[2*e+1]=5,h[2*e]=z(e,5);g=new v(d,a,257,286,15),p=new v(h,o,0,30,15),m=new v(new Array(0),s,0,19,7)}(),U=!0),e.l_desc=new b(e.dyn_ltree,g),e.d_desc=new b(e.dyn_dtree,p),e.bl_desc=new b(e.bl_tree,m),e.bi_buf=0,e.bi_valid=0,E(e)},t._tr_stored_block=D,t._tr_flush_block=function(e,t,n,r){var i,a,o=0;e.level>0?(2===e.strm.data_type&&(e.strm.data_type=function(e){var t,n=4093624447;for(t=0;t<=31;t++,n>>>=1)if(1&n&&0!==e.dyn_ltree[2*t])return 0;if(0!==e.dyn_ltree[18]||0!==e.dyn_ltree[20]||0!==e.dyn_ltree[26])return 1;for(t=32;t<256;t++)if(0!==e.dyn_ltree[2*t])return 1;return 0}(e)),B(e,e.l_desc),B(e,e.d_desc),o=function(e){var t;for(T(e,e.dyn_ltree,e.l_desc.max_code),T(e,e.dyn_dtree,e.d_desc.max_code),B(e,e.bl_desc),t=18;t>=3&&0===e.bl_tree[2*l[t]+1];t--);return e.opt_len+=3*(t+1)+5+5+4,t}(e),i=e.opt_len+3+7>>>3,(a=e.static_len+3+7>>>3)<=i&&(i=a)):i=a=n+5,n+4<=i&&-1!==t?D(e,t,n,r):4===e.strategy||a===i?(x(e,2+(r?1:0),3),L(e,d,h)):(x(e,4+(r?1:0),3),function(e,t,n,r){var i;for(x(e,t-257,5),x(e,n-1,5),x(e,r-4,4),i=0;i<r;i++)x(e,e.bl_tree[2*l[i]+1],3);R(e,e.dyn_ltree,t-1),R(e,e.dyn_dtree,n-1)}(e,e.l_desc.max_code+1,e.d_desc.max_code+1,o+1),L(e,e.dyn_ltree,e.dyn_dtree)),E(e),r&&I(e)},t._tr_tally=function(e,t,n){return e.pending_buf[e.d_buf+2*e.last_lit]=t>>>8&255,e.pending_buf[e.d_buf+2*e.last_lit+1]=255&t,e.pending_buf[e.l_buf+e.last_lit]=255&n,e.last_lit++,0===t?e.dyn_ltree[2*n]++:(e.matches++,t--,e.dyn_ltree[2*(f[n]+256+1)]++,e.dyn_dtree[2*w(t)]++),e.last_lit===e.lit_bufsize-1},t._tr_align=function(e){x(e,2,3),k(e,256,d),function(e){16===e.bi_valid?(y(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=255&e.bi_buf,e.bi_buf>>=8,e.bi_valid-=8)}(e)}},function(e,t,n){"use strict";var r=n(25),i=n(0),a=n(5),o=n(7),s=n(2),l=n(6),d=n(28),h=Object.prototype.toString;function c(e){if(!(this instanceof c))return new c(e);this.options=i.assign({chunkSize:16384,windowBits:0,to:""},e||{});var t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,0===t.windowBits&&(t.windowBits=-15)),!(t.windowBits>=0&&t.windowBits<16)||e&&e.windowBits||(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&0==(15&t.windowBits)&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new l,this.strm.avail_out=0;var n=r.inflateInit2(this.strm,t.windowBits);if(n!==o.Z_OK)throw new Error(s[n]);if(this.header=new d,r.inflateGetHeader(this.strm,this.header),t.dictionary&&("string"==typeof t.dictionary?t.dictionary=a.string2buf(t.dictionary):"[object ArrayBuffer]"===h.call(t.dictionary)&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(n=r.inflateSetDictionary(this.strm,t.dictionary))!==o.Z_OK))throw new Error(s[n])}function f(e,t){var n=new c(t);if(n.push(e,!0),n.err)throw n.msg||s[n.err];return n.result}c.prototype.push=function(e,t){var n,s,l,d,c,f=this.strm,u=this.options.chunkSize,g=this.options.dictionary,p=!1;if(this.ended)return!1;s=t===~~t?t:!0===t?o.Z_FINISH:o.Z_NO_FLUSH,"string"==typeof e?f.input=a.binstring2buf(e):"[object ArrayBuffer]"===h.call(e)?f.input=new Uint8Array(e):f.input=e,f.next_in=0,f.avail_in=f.input.length;do{if(0===f.avail_out&&(f.output=new i.Buf8(u),f.next_out=0,f.avail_out=u),(n=r.inflate(f,o.Z_NO_FLUSH))===o.Z_NEED_DICT&&g&&(n=r.inflateSetDictionary(this.strm,g)),n===o.Z_BUF_ERROR&&!0===p&&(n=o.Z_OK,p=!1),n!==o.Z_STREAM_END&&n!==o.Z_OK)return this.onEnd(n),this.ended=!0,!1;f.next_out&&(0!==f.avail_out&&n!==o.Z_STREAM_END&&(0!==f.avail_in||s!==o.Z_FINISH&&s!==o.Z_SYNC_FLUSH)||("string"===this.options.to?(l=a.utf8border(f.output,f.next_out),d=f.next_out-l,c=a.buf2string(f.output,l),f.next_out=d,f.avail_out=u-d,d&&i.arraySet(f.output,f.output,l,d,0),this.onData(c)):this.onData(i.shrinkBuf(f.output,f.next_out)))),0===f.avail_in&&0===f.avail_out&&(p=!0)}while((f.avail_in>0||0===f.avail_out)&&n!==o.Z_STREAM_END);return n===o.Z_STREAM_END&&(s=o.Z_FINISH),s===o.Z_FINISH?(n=r.inflateEnd(this.strm),this.onEnd(n),this.ended=!0,n===o.Z_OK):s!==o.Z_SYNC_FLUSH||(this.onEnd(o.Z_OK),f.avail_out=0,!0)},c.prototype.onData=function(e){this.chunks.push(e)},c.prototype.onEnd=function(e){e===o.Z_OK&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=i.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},t.Inflate=c,t.inflate=f,t.inflateRaw=function(e,t){return(t=t||{}).raw=!0,f(e,t)},t.ungzip=f},function(e,t,n){"use strict";var r=n(0),i=n(3),a=n(4),o=n(26),s=n(27);function l(e){return(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24)}function d(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new r.Buf16(320),this.work=new r.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function h(e){var t;return e&&e.state?(t=e.state,e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=1&t.wrap),t.mode=1,t.last=0,t.havedict=0,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new r.Buf32(852),t.distcode=t.distdyn=new r.Buf32(592),t.sane=1,t.back=-1,0):-2}function c(e){var t;return e&&e.state?((t=e.state).wsize=0,t.whave=0,t.wnext=0,h(e)):-2}function f(e,t){var n,r;return e&&e.state?(r=e.state,t<0?(n=0,t=-t):(n=1+(t>>4),t<48&&(t&=15)),t&&(t<8||t>15)?-2:(null!==r.window&&r.wbits!==t&&(r.window=null),r.wrap=n,r.wbits=t,c(e))):-2}function u(e,t){var n,r;return e?(r=new d,e.state=r,r.window=null,0!==(n=f(e,t))&&(e.state=null),n):-2}var g,p,m=!0;function _(e){if(m){var t;for(g=new r.Buf32(512),p=new r.Buf32(32),t=0;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(s(1,e.lens,0,288,g,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;s(2,e.lens,0,32,p,0,e.work,{bits:5}),m=!1}e.lencode=g,e.lenbits=9,e.distcode=p,e.distbits=5}function v(e,t,n,i){var a,o=e.state;return null===o.window&&(o.wsize=1<<o.wbits,o.wnext=0,o.whave=0,o.window=new r.Buf8(o.wsize)),i>=o.wsize?(r.arraySet(o.window,t,n-o.wsize,o.wsize,0),o.wnext=0,o.whave=o.wsize):((a=o.wsize-o.wnext)>i&&(a=i),r.arraySet(o.window,t,n-i,a,o.wnext),(i-=a)?(r.arraySet(o.window,t,n-i,i,0),o.wnext=i,o.whave=o.wsize):(o.wnext+=a,o.wnext===o.wsize&&(o.wnext=0),o.whave<o.wsize&&(o.whave+=a))),0}t.inflateReset=c,t.inflateReset2=f,t.inflateResetKeep=h,t.inflateInit=function(e){return u(e,15)},t.inflateInit2=u,t.inflate=function(e,t){var n,d,h,c,f,u,g,p,m,b,w,y,x,k,z,S,E,I,A,C,L,B,T,R,U=0,D=new r.Buf8(4),M=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!e||!e.state||!e.output||!e.input&&0!==e.avail_in)return-2;12===(n=e.state).mode&&(n.mode=13),f=e.next_out,h=e.output,g=e.avail_out,c=e.next_in,d=e.input,u=e.avail_in,p=n.hold,m=n.bits,b=u,w=g,B=0;e:for(;;)switch(n.mode){case 1:if(0===n.wrap){n.mode=13;break}for(;m<16;){if(0===u)break e;u--,p+=d[c++]<<m,m+=8}if(2&n.wrap&&35615===p){n.check=0,D[0]=255&p,D[1]=p>>>8&255,n.check=a(n.check,D,2,0),p=0,m=0,n.mode=2;break}if(n.flags=0,n.head&&(n.head.done=!1),!(1&n.wrap)||(((255&p)<<8)+(p>>8))%31){e.msg="incorrect header check",n.mode=30;break}if(8!=(15&p)){e.msg="unknown compression method",n.mode=30;break}if(m-=4,L=8+(15&(p>>>=4)),0===n.wbits)n.wbits=L;else if(L>n.wbits){e.msg="invalid window size",n.mode=30;break}n.dmax=1<<L,e.adler=n.check=1,n.mode=512&p?10:12,p=0,m=0;break;case 2:for(;m<16;){if(0===u)break e;u--,p+=d[c++]<<m,m+=8}if(n.flags=p,8!=(255&n.flags)){e.msg="unknown compression method",n.mode=30;break}if(57344&n.flags){e.msg="unknown header flags set",n.mode=30;break}n.head&&(n.head.text=p>>8&1),512&n.flags&&(D[0]=255&p,D[1]=p>>>8&255,n.check=a(n.check,D,2,0)),p=0,m=0,n.mode=3;case 3:for(;m<32;){if(0===u)break e;u--,p+=d[c++]<<m,m+=8}n.head&&(n.head.time=p),512&n.flags&&(D[0]=255&p,D[1]=p>>>8&255,D[2]=p>>>16&255,D[3]=p>>>24&255,n.check=a(n.check,D,4,0)),p=0,m=0,n.mode=4;case 4:for(;m<16;){if(0===u)break e;u--,p+=d[c++]<<m,m+=8}n.head&&(n.head.xflags=255&p,n.head.os=p>>8),512&n.flags&&(D[0]=255&p,D[1]=p>>>8&255,n.check=a(n.check,D,2,0)),p=0,m=0,n.mode=5;case 5:if(1024&n.flags){for(;m<16;){if(0===u)break e;u--,p+=d[c++]<<m,m+=8}n.length=p,n.head&&(n.head.extra_len=p),512&n.flags&&(D[0]=255&p,D[1]=p>>>8&255,n.check=a(n.check,D,2,0)),p=0,m=0}else n.head&&(n.head.extra=null);n.mode=6;case 6:if(1024&n.flags&&((y=n.length)>u&&(y=u),y&&(n.head&&(L=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Array(n.head.extra_len)),r.arraySet(n.head.extra,d,c,y,L)),512&n.flags&&(n.check=a(n.check,d,y,c)),u-=y,c+=y,n.length-=y),n.length))break e;n.length=0,n.mode=7;case 7:if(2048&n.flags){if(0===u)break e;y=0;do{L=d[c+y++],n.head&&L&&n.length<65536&&(n.head.name+=String.fromCharCode(L))}while(L&&y<u);if(512&n.flags&&(n.check=a(n.check,d,y,c)),u-=y,c+=y,L)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=8;case 8:if(4096&n.flags){if(0===u)break e;y=0;do{L=d[c+y++],n.head&&L&&n.length<65536&&(n.head.comment+=String.fromCharCode(L))}while(L&&y<u);if(512&n.flags&&(n.check=a(n.check,d,y,c)),u-=y,c+=y,L)break e}else n.head&&(n.head.comment=null);n.mode=9;case 9:if(512&n.flags){for(;m<16;){if(0===u)break e;u--,p+=d[c++]<<m,m+=8}if(p!==(65535&n.check)){e.msg="header crc mismatch",n.mode=30;break}p=0,m=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),e.adler=n.check=0,n.mode=12;break;case 10:for(;m<32;){if(0===u)break e;u--,p+=d[c++]<<m,m+=8}e.adler=n.check=l(p),p=0,m=0,n.mode=11;case 11:if(0===n.havedict)return e.next_out=f,e.avail_out=g,e.next_in=c,e.avail_in=u,n.hold=p,n.bits=m,2;e.adler=n.check=1,n.mode=12;case 12:if(5===t||6===t)break e;case 13:if(n.last){p>>>=7&m,m-=7&m,n.mode=27;break}for(;m<3;){if(0===u)break e;u--,p+=d[c++]<<m,m+=8}switch(n.last=1&p,m-=1,3&(p>>>=1)){case 0:n.mode=14;break;case 1:if(_(n),n.mode=20,6===t){p>>>=2,m-=2;break e}break;case 2:n.mode=17;break;case 3:e.msg="invalid block type",n.mode=30}p>>>=2,m-=2;break;case 14:for(p>>>=7&m,m-=7&m;m<32;){if(0===u)break e;u--,p+=d[c++]<<m,m+=8}if((65535&p)!=(p>>>16^65535)){e.msg="invalid stored block lengths",n.mode=30;break}if(n.length=65535&p,p=0,m=0,n.mode=15,6===t)break e;case 15:n.mode=16;case 16:if(y=n.length){if(y>u&&(y=u),y>g&&(y=g),0===y)break e;r.arraySet(h,d,c,y,f),u-=y,c+=y,g-=y,f+=y,n.length-=y;break}n.mode=12;break;case 17:for(;m<14;){if(0===u)break e;u--,p+=d[c++]<<m,m+=8}if(n.nlen=257+(31&p),p>>>=5,m-=5,n.ndist=1+(31&p),p>>>=5,m-=5,n.ncode=4+(15&p),p>>>=4,m-=4,n.nlen>286||n.ndist>30){e.msg="too many length or distance symbols",n.mode=30;break}n.have=0,n.mode=18;case 18:for(;n.have<n.ncode;){for(;m<3;){if(0===u)break e;u--,p+=d[c++]<<m,m+=8}n.lens[M[n.have++]]=7&p,p>>>=3,m-=3}for(;n.have<19;)n.lens[M[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,T={bits:n.lenbits},B=s(0,n.lens,0,19,n.lencode,0,n.work,T),n.lenbits=T.bits,B){e.msg="invalid code lengths set",n.mode=30;break}n.have=0,n.mode=19;case 19:for(;n.have<n.nlen+n.ndist;){for(;S=(U=n.lencode[p&(1<<n.lenbits)-1])>>>16&255,E=65535&U,!((z=U>>>24)<=m);){if(0===u)break e;u--,p+=d[c++]<<m,m+=8}if(E<16)p>>>=z,m-=z,n.lens[n.have++]=E;else{if(16===E){for(R=z+2;m<R;){if(0===u)break e;u--,p+=d[c++]<<m,m+=8}if(p>>>=z,m-=z,0===n.have){e.msg="invalid bit length repeat",n.mode=30;break}L=n.lens[n.have-1],y=3+(3&p),p>>>=2,m-=2}else if(17===E){for(R=z+3;m<R;){if(0===u)break e;u--,p+=d[c++]<<m,m+=8}m-=z,L=0,y=3+(7&(p>>>=z)),p>>>=3,m-=3}else{for(R=z+7;m<R;){if(0===u)break e;u--,p+=d[c++]<<m,m+=8}m-=z,L=0,y=11+(127&(p>>>=z)),p>>>=7,m-=7}if(n.have+y>n.nlen+n.ndist){e.msg="invalid bit length repeat",n.mode=30;break}for(;y--;)n.lens[n.have++]=L}}if(30===n.mode)break;if(0===n.lens[256]){e.msg="invalid code -- missing end-of-block",n.mode=30;break}if(n.lenbits=9,T={bits:n.lenbits},B=s(1,n.lens,0,n.nlen,n.lencode,0,n.work,T),n.lenbits=T.bits,B){e.msg="invalid literal/lengths set",n.mode=30;break}if(n.distbits=6,n.distcode=n.distdyn,T={bits:n.distbits},B=s(2,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,T),n.distbits=T.bits,B){e.msg="invalid distances set",n.mode=30;break}if(n.mode=20,6===t)break e;case 20:n.mode=21;case 21:if(u>=6&&g>=258){e.next_out=f,e.avail_out=g,e.next_in=c,e.avail_in=u,n.hold=p,n.bits=m,o(e,w),f=e.next_out,h=e.output,g=e.avail_out,c=e.next_in,d=e.input,u=e.avail_in,p=n.hold,m=n.bits,12===n.mode&&(n.back=-1);break}for(n.back=0;S=(U=n.lencode[p&(1<<n.lenbits)-1])>>>16&255,E=65535&U,!((z=U>>>24)<=m);){if(0===u)break e;u--,p+=d[c++]<<m,m+=8}if(S&&0==(240&S)){for(I=z,A=S,C=E;S=(U=n.lencode[C+((p&(1<<I+A)-1)>>I)])>>>16&255,E=65535&U,!(I+(z=U>>>24)<=m);){if(0===u)break e;u--,p+=d[c++]<<m,m+=8}p>>>=I,m-=I,n.back+=I}if(p>>>=z,m-=z,n.back+=z,n.length=E,0===S){n.mode=26;break}if(32&S){n.back=-1,n.mode=12;break}if(64&S){e.msg="invalid literal/length code",n.mode=30;break}n.extra=15&S,n.mode=22;case 22:if(n.extra){for(R=n.extra;m<R;){if(0===u)break e;u--,p+=d[c++]<<m,m+=8}n.length+=p&(1<<n.extra)-1,p>>>=n.extra,m-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=23;case 23:for(;S=(U=n.distcode[p&(1<<n.distbits)-1])>>>16&255,E=65535&U,!((z=U>>>24)<=m);){if(0===u)break e;u--,p+=d[c++]<<m,m+=8}if(0==(240&S)){for(I=z,A=S,C=E;S=(U=n.distcode[C+((p&(1<<I+A)-1)>>I)])>>>16&255,E=65535&U,!(I+(z=U>>>24)<=m);){if(0===u)break e;u--,p+=d[c++]<<m,m+=8}p>>>=I,m-=I,n.back+=I}if(p>>>=z,m-=z,n.back+=z,64&S){e.msg="invalid distance code",n.mode=30;break}n.offset=E,n.extra=15&S,n.mode=24;case 24:if(n.extra){for(R=n.extra;m<R;){if(0===u)break e;u--,p+=d[c++]<<m,m+=8}n.offset+=p&(1<<n.extra)-1,p>>>=n.extra,m-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){e.msg="invalid distance too far back",n.mode=30;break}n.mode=25;case 25:if(0===g)break e;if(y=w-g,n.offset>y){if((y=n.offset-y)>n.whave&&n.sane){e.msg="invalid distance too far back",n.mode=30;break}y>n.wnext?(y-=n.wnext,x=n.wsize-y):x=n.wnext-y,y>n.length&&(y=n.length),k=n.window}else k=h,x=f-n.offset,y=n.length;y>g&&(y=g),g-=y,n.length-=y;do{h[f++]=k[x++]}while(--y);0===n.length&&(n.mode=21);break;case 26:if(0===g)break e;h[f++]=n.length,g--,n.mode=21;break;case 27:if(n.wrap){for(;m<32;){if(0===u)break e;u--,p|=d[c++]<<m,m+=8}if(w-=g,e.total_out+=w,n.total+=w,w&&(e.adler=n.check=n.flags?a(n.check,h,w,f-w):i(n.check,h,w,f-w)),w=g,(n.flags?p:l(p))!==n.check){e.msg="incorrect data check",n.mode=30;break}p=0,m=0}n.mode=28;case 28:if(n.wrap&&n.flags){for(;m<32;){if(0===u)break e;u--,p+=d[c++]<<m,m+=8}if(p!==(4294967295&n.total)){e.msg="incorrect length check",n.mode=30;break}p=0,m=0}n.mode=29;case 29:B=1;break e;case 30:B=-3;break e;case 31:return-4;case 32:default:return-2}return e.next_out=f,e.avail_out=g,e.next_in=c,e.avail_in=u,n.hold=p,n.bits=m,(n.wsize||w!==e.avail_out&&n.mode<30&&(n.mode<27||4!==t))&&v(e,e.output,e.next_out,w-e.avail_out)?(n.mode=31,-4):(b-=e.avail_in,w-=e.avail_out,e.total_in+=b,e.total_out+=w,n.total+=w,n.wrap&&w&&(e.adler=n.check=n.flags?a(n.check,h,w,e.next_out-w):i(n.check,h,w,e.next_out-w)),e.data_type=n.bits+(n.last?64:0)+(12===n.mode?128:0)+(20===n.mode||15===n.mode?256:0),(0===b&&0===w||4===t)&&0===B&&(B=-5),B)},t.inflateEnd=function(e){if(!e||!e.state)return-2;var t=e.state;return t.window&&(t.window=null),e.state=null,0},t.inflateGetHeader=function(e,t){var n;return e&&e.state?0==(2&(n=e.state).wrap)?-2:(n.head=t,t.done=!1,0):-2},t.inflateSetDictionary=function(e,t){var n,r=t.length;return e&&e.state?0!==(n=e.state).wrap&&11!==n.mode?-2:11===n.mode&&i(1,t,r,0)!==n.check?-3:v(e,t,r,r)?(n.mode=31,-4):(n.havedict=1,0):-2},t.inflateInfo="pako inflate (from Nodeca project)"},function(e,t,n){"use strict";e.exports=function(e,t){var n,r,i,a,o,s,l,d,h,c,f,u,g,p,m,_,v,b,w,y,x,k,z,S,E;n=e.state,r=e.next_in,S=e.input,i=r+(e.avail_in-5),a=e.next_out,E=e.output,o=a-(t-e.avail_out),s=a+(e.avail_out-257),l=n.dmax,d=n.wsize,h=n.whave,c=n.wnext,f=n.window,u=n.hold,g=n.bits,p=n.lencode,m=n.distcode,_=(1<<n.lenbits)-1,v=(1<<n.distbits)-1;e:do{g<15&&(u+=S[r++]<<g,g+=8,u+=S[r++]<<g,g+=8),b=p[u&_];t:for(;;){if(u>>>=w=b>>>24,g-=w,0===(w=b>>>16&255))E[a++]=65535&b;else{if(!(16&w)){if(0==(64&w)){b=p[(65535&b)+(u&(1<<w)-1)];continue t}if(32&w){n.mode=12;break e}e.msg="invalid literal/length code",n.mode=30;break e}y=65535&b,(w&=15)&&(g<w&&(u+=S[r++]<<g,g+=8),y+=u&(1<<w)-1,u>>>=w,g-=w),g<15&&(u+=S[r++]<<g,g+=8,u+=S[r++]<<g,g+=8),b=m[u&v];n:for(;;){if(u>>>=w=b>>>24,g-=w,!(16&(w=b>>>16&255))){if(0==(64&w)){b=m[(65535&b)+(u&(1<<w)-1)];continue n}e.msg="invalid distance code",n.mode=30;break e}if(x=65535&b,g<(w&=15)&&(u+=S[r++]<<g,(g+=8)<w&&(u+=S[r++]<<g,g+=8)),(x+=u&(1<<w)-1)>l){e.msg="invalid distance too far back",n.mode=30;break e}if(u>>>=w,g-=w,x>(w=a-o)){if((w=x-w)>h&&n.sane){e.msg="invalid distance too far back",n.mode=30;break e}if(k=0,z=f,0===c){if(k+=d-w,w<y){y-=w;do{E[a++]=f[k++]}while(--w);k=a-x,z=E}}else if(c<w){if(k+=d+c-w,(w-=c)<y){y-=w;do{E[a++]=f[k++]}while(--w);if(k=0,c<y){y-=w=c;do{E[a++]=f[k++]}while(--w);k=a-x,z=E}}}else if(k+=c-w,w<y){y-=w;do{E[a++]=f[k++]}while(--w);k=a-x,z=E}for(;y>2;)E[a++]=z[k++],E[a++]=z[k++],E[a++]=z[k++],y-=3;y&&(E[a++]=z[k++],y>1&&(E[a++]=z[k++]))}else{k=a-x;do{E[a++]=E[k++],E[a++]=E[k++],E[a++]=E[k++],y-=3}while(y>2);y&&(E[a++]=E[k++],y>1&&(E[a++]=E[k++]))}break}}break}}while(r<i&&a<s);r-=y=g>>3,u&=(1<<(g-=y<<3))-1,e.next_in=r,e.next_out=a,e.avail_in=r<i?i-r+5:5-(r-i),e.avail_out=a<s?s-a+257:257-(a-s),n.hold=u,n.bits=g}},function(e,t,n){"use strict";var r=n(0),i=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],a=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],o=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],s=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];e.exports=function(e,t,n,l,d,h,c,f){var u,g,p,m,_,v,b,w,y,x=f.bits,k=0,z=0,S=0,E=0,I=0,A=0,C=0,L=0,B=0,T=0,R=null,U=0,D=new r.Buf16(16),M=new r.Buf16(16),N=null,O=0;for(k=0;k<=15;k++)D[k]=0;for(z=0;z<l;z++)D[t[n+z]]++;for(I=x,E=15;E>=1&&0===D[E];E--);if(I>E&&(I=E),0===E)return d[h++]=20971520,d[h++]=20971520,f.bits=1,0;for(S=1;S<E&&0===D[S];S++);for(I<S&&(I=S),L=1,k=1;k<=15;k++)if(L<<=1,(L-=D[k])<0)return-1;if(L>0&&(0===e||1!==E))return-1;for(M[1]=0,k=1;k<15;k++)M[k+1]=M[k]+D[k];for(z=0;z<l;z++)0!==t[n+z]&&(c[M[t[n+z]]++]=z);if(0===e?(R=N=c,v=19):1===e?(R=i,U-=257,N=a,O-=257,v=256):(R=o,N=s,v=-1),T=0,z=0,k=S,_=h,A=I,C=0,p=-1,m=(B=1<<I)-1,1===e&&B>852||2===e&&B>592)return 1;for(;;){b=k-C,c[z]<v?(w=0,y=c[z]):c[z]>v?(w=N[O+c[z]],y=R[U+c[z]]):(w=96,y=0),u=1<<k-C,S=g=1<<A;do{d[_+(T>>C)+(g-=u)]=b<<24|w<<16|y|0}while(0!==g);for(u=1<<k-1;T&u;)u>>=1;if(0!==u?(T&=u-1,T+=u):T=0,z++,0==--D[k]){if(k===E)break;k=t[n+c[z]]}if(k>I&&(T&m)!==p){for(0===C&&(C=I),_+=S,L=1<<(A=k-C);A+C<E&&!((L-=D[A+C])<=0);)A++,L<<=1;if(B+=1<<A,1===e&&B>852||2===e&&B>592)return 1;d[p=T&m]=I<<24|A<<16|_-h|0}}return 0!==T&&(d[_+T]=k-C<<24|64<<16|0),f.bits=I,0}},function(e,t,n){"use strict";e.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},function(e,t,n){"use strict";n.r(t);var r;n(10);function i(e){document.querySelectorAll(e).forEach((function(e){return e.classList.remove("selected")}))}function a(e){i(".tools--item"),document.getElementById(e).classList.add("selected"),r.toolChoose=e}function o(e){switch(r=this,e.code){case"KeyP":a("pencil");break;case"KeyL":a("stroke");break;case"KeyB":a("bucket");break;case"KeyA":a("bucketAllPixels");break;case"KeyO":a("picker");break;case"KeyE":a("eraser")}}function s(){document.getElementById("first_color").style.backgroundColor=this.firstColor,document.getElementById("first_color").firstElementChild.value=this.firstColor,document.getElementById("second_color").style.backgroundColor=this.secondColor,document.getElementById("second_color").firstElementChild.value=this.secondColor,document.getElementById("pen_size".concat(this.pixelSize)).classList.add("selected"),document.getElementById(this.toolChoose).classList.add("selected"),document.getElementById("canvas_size".concat(this.canvasSize)).classList.add("selected")}function l(){var e=this;if(localStorage.getItem("imageDataURL")){var t=localStorage.getItem("imageDataURL"),n=new Image;n.src=t,n.onload=function(){e.ctx.drawImage(n,0,0)}}else this.drawFirstImage()}function d(e,t,n){var r=[0,1,1,2][n-1],i=512/t;return{x1:Math.trunc((e.offsetX-r)/i),y1:Math.trunc((e.offsetY-r)/i)}}function h(e){if(!this.isDrawing)return this.x=0,void(this.y=0);1===e.buttons&&(this.ctx.fillStyle=this.firstColor),2===e.buttons&&(this.ctx.fillStyle=this.secondColor);var t=d(e,this.canvasSize,this.pixelSize),n=t.x1,r=t.y1,i=this.x||n,a=this.y||r;this.ctx.fillRect(i,a,this.pixelSize,this.pixelSize);for(var o=Math.abs(n-i),s=Math.abs(r-a),l=i<n?1:-1,h=a<r?1:-1,c=o-s;i!==n||a!==r;){this.ctx.fillRect(i,a,this.pixelSize,this.pixelSize);var f=2*c;f>-s&&(c-=s,i+=l),f<o&&(c+=o,a+=h)}this.x=n,this.y=r}function c(e){if(!this.isDrawing)return this.x=0,this.y=0,void(this.snapshotStart=0);1===e.buttons&&(this.ctx.fillStyle=this.firstColor),2===e.buttons&&(this.ctx.fillStyle=this.secondColor),this.ctx.lineCap="round";var t=d(e,this.canvasSize,this.pixelSize),n=t.x1,r=t.y1;this.x=this.x||n,this.y=this.y||r;var i=this.x,a=this.y;this.ctx.fillRect(i,a,this.pixelSize,this.pixelSize),this.snapshotStart||(this.snapshotStart=this.ctx.getImageData(0,0,this.canvasSize,this.canvasSize)),this.ctx.putImageData(this.snapshotStart,0,0);for(var o=Math.abs(n-i),s=Math.abs(r-a),l=i<n?1:-1,h=a<r?1:-1,c=o-s;i!==n||a!==r;){this.ctx.fillRect(i,a,this.pixelSize,this.pixelSize);var f=2*c;f>-s&&(c-=s,i+=l),f<o&&(c+=o,a+=h),this.ctx.fillRect(i,a,this.pixelSize,this.pixelSize)}}function f(e){var t,n,r,i,a,o=this,s=this.ctx.getImageData(0,0,this.canvasSize,this.canvasSize),l=d(e,this.canvasSize,this.pixelSize),h=l.x1,c=l.y1,f=this.ctx.getImageData(h,c,1,1).data,u=[[h,c]];n=f.reduce((function(e,t){return e+t})),1===e.buttons&&(t=this.firstColor),2===e.buttons&&(t=this.secondColor);var g=t.match(/[A-Za-z0-9]{2}/g).map((function(e){return parseInt(e,16)}));if(!g.every((function(e,t){return e===f[t]}))){for(;u.length>0;)if((i=u.pop()).every((function(e){return e>0}))||i.every((function(e){return e<=o.canvasSize}))){a=4*(i[1]*this.canvasSize+i[0]),r=0;for(var p=0;p<4;p+=1)r+=s.data[a+p];if(r===n){for(var m=0;m<3;m+=1)s.data[a+m]=g[m];s.data[a+3]=255,u.push([i[0]-1,i[1]]),u.push([i[0]+1,i[1]]),u.push([i[0],i[1]-1]),u.push([i[0],i[1]+1])}}this.ctx.putImageData(s,0,0)}}function u(e){var t,n=this.ctx.getImageData(0,0,this.canvasSize,this.canvasSize),r=d(e,this.canvasSize,this.pixelSize),i=r.x1,a=r.y1,o=this.ctx.getImageData(i,a,1,1);1===e.buttons&&(t=this.firstColor),2===e.buttons&&(t=this.secondColor);var s=t.match(/[A-Za-z0-9]{2}/g).map((function(e){return parseInt(e,16)}));s.push(255);for(var l=function(e){if(o.data.every((function(t,r){return t===n.data[e+r]})))for(var t=0;t<4;t+=1)n.data[e+t]=s[t]},h=0;h<n.data.length;h+=4)l(h);this.ctx.putImageData(n,0,0)}function g(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var n=[],r=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){i=!0,a=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw a}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function p(e){var t=d(e,this.canvasSize,this.pixelSize),n=t.x1,r=t.y1,i=g(this.ctx.getImageData(n,r,1,1).data,4),a=i[0],o=i[1],s=i[2],l=i[3];function h(e){return 1===e.length?"0".concat(e):e}a=a.toString(16),o=o.toString(16),s=s.toString(16),l=Math.round(l).toString(16);var c="#".concat(h(a)).concat(h(o)).concat(h(s)).concat(h(l));1===e.buttons&&(this.firstColor=c,document.getElementById("first_color").style.backgroundColor=c,document.getElementById("first_color_input").value=c),2===e.buttons&&(this.secondColor=c,document.getElementById("second_color").style.backgroundColor=c,document.getElementById("second_color_input").value=c)}function m(e){if(!this.isDrawing)return this.x=0,void(this.y=0);var t=d(e,this.canvasSize,this.pixelSize),n=t.x1,r=t.y1,i=this.x||n,a=this.y||r;this.ctx.clearRect(i,a,this.pixelSize,this.pixelSize);for(var o=Math.abs(n-i),s=Math.abs(r-a),l=i<n?1:-1,h=a<r?1:-1,c=o-s;i!==n||a!==r;){this.ctx.clearRect(i,a,this.pixelSize,this.pixelSize);var f=2*c;f>-s&&(c-=s,i+=l),f<o&&(c+=o,a+=h)}this.x=n,this.y=r}function _(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var n=[],r=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){i=!0,a=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw a}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function v(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var b=new(function(){function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.canvas=document.getElementById("canvas2"),this.ctx=this.canvas.getContext("2d"),this.pixelSize=localStorage.getItem("pixelSize")||1,this.canvasSize=localStorage.getItem("canvasSize")||32,this.canvas.width=this.canvasSize,this.canvas.height=this.canvasSize,this.firstColor=localStorage.getItem("firstColor")||"#10ec10",this.secondColor=localStorage.getItem("secondColor")||"#db11c0",this.x=0,this.y=0,this.colorLayer=0,this.toolChoose=localStorage.getItem("toolChoose")||"pencil",this.tools={pencil:function(e){return h.call(t,e)},stroke:function(e){return c.call(t,e)},bucket:function(e){return f.call(t,e)},bucketAllPixels:function(e){return u.call(t,e)},picker:function(e){return p.call(t,e)},eraser:function(e){return m.call(t,e)}}}var t,n,r;return t=e,(n=[{key:"drawFirstImage",value:function(){this.ctx.strokeStyle="rgba(219, 17, 192, 255)",this.ctx.lineWidth=2,this.ctx.strokeRect(2,2,10,10),this.ctx.strokeRect(5,5,20,20)}},{key:"setColor",value:function(e){var t=this;window.oninput=function(){var n=e.target,r=e.target.firstElementChild.value;n.style.backgroundColor=r,"first_color"===e.target.id&&(t.firstColor=r),"second_color"===e.target.id&&(t.secondColor=r)}}},{key:"setPenSize",value:function(e){"pen_sizes"!==e.target.id&&(i(".pen_size--item"),e.target.classList.add("selected"),this.pixelSize=e.target.id.slice(-1))}},{key:"setTools",value:function(e){"tools"!==e.target.id&&(i(".tools--item"),e.target.classList.add("selected"),this.toolChoose=e.target.id)}},{key:"setCanvasSize",value:function(e){if("canvas_size"!==e.target.id){i(".canvas_size--item"),e.target.classList.add("selected");var t=_(e.target.innerText.split("x"),1)[0],n=this.canvas,r=n.width,a=n.height,o=this.ctx.getImageData(0,0,r,a);this.canvas.width=t,this.canvas.height=t,this.canvasSize=t,this.ctx.putImageData(o,0,0),document.querySelectorAll(".frame--item").forEach((function(e){var n=e.firstElementChild,i=n.getContext("2d"),o=i.getImageData(0,0,r,a);n.width=t,n.height=t,i.putImageData(o,0,0)}))}}},{key:"init",value:function(){var e=this;s.call(this),l.call(this),document.getElementById("palette").addEventListener("mousedown",(function(t){return e.setColor(t)})),document.getElementById("pen_sizes").addEventListener("mousedown",(function(t){return e.setPenSize(t)})),document.getElementById("tools").addEventListener("mousedown",(function(t){return e.setTools(t)})),document.getElementById("canvas_size").addEventListener("mousedown",(function(t){return e.setCanvasSize(t)})),this.canvas.addEventListener("mousemove",(function(t){"pencil"!==e.toolChoose&&"eraser"!==e.toolChoose&&"stroke"!==e.toolChoose||e.tools[e.toolChoose](t)})),this.canvas.addEventListener("mousedown",(function(t){e.isDrawing=!0,e.tools[e.toolChoose](t)})),document.addEventListener("mouseup",(function(){e.isDrawing=!1})),document.addEventListener("keydown",o.bind(this))}}])&&v(t.prototype,n),r&&v(t,r),e}());function w(){document.getElementById("animate_canvas").requestFullscreen()}var y,x,k=2,z=Date.now(),S=document.querySelectorAll(".frame--item_canvas"),E=0;function I(){requestAnimationFrame(I),y=Date.now(),(x=y-z)>1e3/k&&(z=y-x%(1e3/k),function(){var e=E%S.length;E+=1;var t=S[e],n=t.width,r=t.height,i=document.getElementById("animate_canvas"),a=i.getContext("2d");i.width=n,i.height=r,a.drawImage(t,0,0,n,r,0,0,n,r)}())}function A(){var e=document.getElementById("fps_range").value;document.getElementById("fps_text").innerText="".concat(e," FPS"),k=e}function C(){S=document.querySelectorAll(".frame--item_canvas")}function L(){var e=document.getElementById("canvas2"),t=e.width,n=e.height,r=document.querySelector(".frame--item.selected").firstElementChild,i=r.getContext("2d");r.width=t,r.height=n,i.drawImage(e,0,0,t,n,0,0,t,n)}function B(){var e=document.querySelector(".frame--item.selected").firstElementChild,t=e.width,n=e.height,r=document.getElementById("canvas2"),i=r.getContext("2d");i.clearRect(0,0,r.width,r.height),i.drawImage(e,0,0,t,n,0,0,t,n)}function T(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;i(".frame--item");var n=document.querySelectorAll(".frame--item");t?(i(".frame--item"),t-1!==n.length?(1===t&&n[t].classList.add("selected"),t&&n[t-1].classList.add("selected")):n[t-2].classList.add("selected")):e.target.closest("LI").classList.add("selected")}function R(){var e=document.querySelectorAll(".frame--item"),t=document.querySelectorAll(".frame--btn_number");e.forEach((function(e,t){e.style.order=t+1})),t.forEach((function(e,t){e.innerText=t+1}))}var U,D=0;function M(e){var t=e.target;t.style.opacity="1",D=t.closest(".frame--item");var n=e;n.dataTransfer.effectAllowed="move",n.dataTransfer.setData("text/html",t)}function N(e){return e.preventDefault&&e.preventDefault(),e.dataTransfer.dropEffect="move",!1}function O(e){var t=e.target;"canvas"===t.tagName.toLowerCase()&&t.closest(".frame--item").classList.add("over")}function F(e){var t=e.target;"canvas"===t.tagName.toLowerCase()&&t.closest(".frame--item").classList.remove("over")}function Z(e){var t=e.target.closest(".frame--item");t.style.order<D.style.order&&t.before(D),t.style.order>D.style.order&&t.after(D)}function P(e){var t=document.querySelector(".over");t&&t.classList.remove("over"),e.target.style.opacity="",R()}function q(e){i(".frame--item");var t='\n  <li class="frame--item selected" draggable="true">\n    <canvas class="frame--item_canvas"  width="32" height="32">\n    </canvas>\n    <div class="frame--btn_number">'.concat(e,'</div>\n    <div class="frame--btn btn_delete"></div>\n    <div class="frame--btn btn_copy"></div>\n    <div class="frame--btn btn_move"></div>\n  </li>\n  ');document.getElementById("frames").insertAdjacentHTML("beforeend",t),document.getElementById("frames").lastElementChild.style.order=e}var j=function(e){if(e.target.classList.contains("btn_delete")){if(1===U)return;var t=e.target.closest("LI"),n=t.style.order;U-=1,function(e){e.target.closest("LI").remove()}(e),R(),t.classList.contains("selected")&&T(e,n),B()}else e.target.classList.contains("frame--item_canvas")?(T(e),B()):e.target.classList.contains("btn_copy")&&(!function(e){var t=e.target.closest("LI").outerHTML,n=e.target.closest("LI").style.order,r=e.target.closest("LI").firstElementChild,i=r.width,a=r.height;e.target.closest("LI").insertAdjacentHTML("afterend",t),T(e,+n+1),document.querySelector(".frame--item.selected").firstElementChild.getContext("2d").drawImage(r,0,0,i,a,0,0,i,a)}(e),U+=1,R())};var H=n(8),W=n.n(H),G=n(1),K=n.n(G);function Y(){for(var e=document.querySelectorAll(".frame--item_canvas"),t=e[0],n=t.width,r=t.height,i=document.getElementById("fps_range").value,a=[],o=0;o<e.length;o+=1){var s=e[o].getContext("2d").getImageData(0,0,e[0].width,e[0].height).data.buffer;a.push(s)}var l=new Array(a.length).fill(1e3/i),d=W.a.encode(a,n,r,0,l);K()(d,"piskel_image.apng","apng")}var X,V=n(9),J=n.n(V);function $(){var e=document.querySelectorAll(".frame--item_canvas"),t=e.width,n=e.height,r=document.getElementById("fps_range").value,i=new J.a({workers:2,quality:10,workerScript:"./gif.worker.js",repeat:0,width:t,height:n,background:e[0].style.background});e.forEach((function(e){return i.addFrame(e,{delay:1e3/r})})),i.on("finished",(function(e){K()(e,"piskel_image.gif","gif")})),i.render()}function Q(){var e=b.canvasSize,t=b.canvas.toDataURL();localStorage.setItem("canvasSize",e),localStorage.setItem("imageDataURL",t);var n=document.querySelectorAll(".frame--item");n.forEach((function(e,t){var n=e.firstElementChild.toDataURL();localStorage.setItem("dataURLFrame".concat(t),n)})),localStorage.setItem("pixelSize",b.pixelSize),localStorage.setItem("toolChoose",b.toolChoose),localStorage.setItem("firstColor",b.firstColor),localStorage.setItem("secondColor",b.secondColor),localStorage.setItem("numberFrames",n.length)}window.addEventListener("beforeunload",Q),b.init(),U=+localStorage.getItem("numberFrames")||1,function(){for(var e=localStorage.getItem("numberFrames"),t=1;t<e;t+=1)q(t+1);document.querySelectorAll(".frame--item").forEach((function(e,t){var n=e.firstElementChild,r=n.getContext("2d");n.width=b.canvasSize,n.height=b.canvasSize;var i=localStorage.getItem("dataURLFrame".concat(t)),a=new Image;a.src=i,a.onload=function(){r.drawImage(a,0,0)}}))}(),document.getElementById("canvas2").addEventListener("mouseup",(function(){return L()})),document.getElementById("frames").addEventListener("mousedown",j),document.getElementById("btn_add_frame").addEventListener("mousedown",(function(){q(U+=1),B()})),(X=document.getElementById("frames")).addEventListener("dragstart",M),X.addEventListener("dragenter",O),X.addEventListener("dragover",N),X.addEventListener("dragleave",F),X.addEventListener("drop",Z),X.addEventListener("dragend",P),document.addEventListener("click",C),document.getElementById("fps_range").addEventListener("input",A),I(),document.getElementById("full_screen").addEventListener("click",w),document.getElementById("apngDownloadButton").addEventListener("mousedown",Y),document.getElementById("gifDownloadButton").addEventListener("mouseup",$),L()}]);
//# sourceMappingURL=app.bundle.js.map